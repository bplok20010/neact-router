{"version":3,"file":"neact.js","sources":["../src/shared.js","../src/vnode.js","../src/currentOwner.js","../src/createElement.js","../src/callbackQueue.js","../src/refs.js","../src/processDOMEvents.js","../src/unmount.js","../src/domUtils.js","../src/createComponentInstance.js","../src/processDOMPropertyHooks.js","../src/support.js","../src/hooks/constants.js","../src/hooks/processDOMStyle.js","../src/hooks/processDOMAttr.js","../src/processDOMProperty.js","../src/mount.js","../src/patch.js","../src/render.js","../src/shallowEqual.js","../src/component.js","../src/createClass.js","../src/pureComponent.js","../src/neact.js"],"sourcesContent":["'use strict';\r\n\r\nvar ArrayProto = Array.prototype;\r\nvar nativeForEach = ArrayProto.forEach;\r\nvar nativeMap = ArrayProto.map;\r\nvar nativeFilter = ArrayProto.filter;\r\n\r\nvar objToString = Object.prototype.toString;\r\n\r\nexport var emptyObject = {};\r\n\r\nexport var isArray = Array.isArray || function(s) {\r\n    return objToString.call(s) === '[object Array]';\r\n};\r\n\r\nexport function toArray(obj) {\r\n    return isArray(obj) ? obj : [obj];\r\n}\r\n\r\nexport function isUndefined(obj) {\r\n    return obj === undefined;\r\n}\r\n\r\nexport function isStatefulComponent(o) {\r\n    return !isUndefined(o.prototype) && !isUndefined(o.prototype.render);\r\n}\r\n\r\nexport function isString(obj) {\r\n    return typeof obj === 'string';\r\n}\r\n\r\n\r\nexport function isNumber(obj) {\r\n    return typeof obj === 'number';\r\n}\r\n\r\nexport function isTrue(obj) {\r\n    return obj === true;\r\n}\r\n\r\nexport function isNull(obj) {\r\n    return obj === null;\r\n}\r\n\r\nexport function isStringOrNumber(obj) {\r\n    return isString(obj) || isNumber(obj);\r\n}\r\n\r\nexport function isNullOrUndef(obj) {\r\n    return isUndefined(obj) || isNull(obj);\r\n}\r\n\r\nexport function isInvalid(obj) {\r\n    return isNull(obj) || obj === false || isTrue(obj) || isUndefined(obj);\r\n}\r\n\r\nexport function isFunction(obj) {\r\n    return typeof obj === 'function';\r\n}\r\n\r\nexport function isAttrAnEvent(attr) {\r\n    return attr[0] === 'o' && attr[1] === 'n' && attr.length > 3;\r\n}\r\n\r\nexport function isDefined(obj) {\r\n    return obj !== undefined;\r\n}\r\n\r\nexport function isObject(o) {\r\n    return typeof o === 'object';\r\n}\r\n\r\nexport function isDOM(obj) {\r\n    return obj && obj.nodeType === 1 &&\r\n        typeof(obj.nodeName) == 'string';\r\n}\r\n\r\nexport function isVNode(VNode) {\r\n    return VNode && isObject(VNode) && VNode.$$isVNode;\r\n}\r\n\r\nexport function isSameVNode(vnode1, vnode2) {\r\n    var isSame = vnode1.key === vnode2.key && vnode1.type === vnode2.type;\r\n    return isSame;\r\n}\r\n\r\nexport function isVoidVNode(vNode) {\r\n    return vNode.type === '#comment';\r\n}\r\n\r\nexport function isEmptyVNode(vNode) {\r\n    return vNode.type === '#comment';\r\n}\r\n\r\nexport function isTextVNode(vNode) {\r\n    return vNode.type === '#text';\r\n}\r\n\r\nexport function isElementVNode(vNode) {\r\n    return isString(vNode.type) && vNode.type[0] !== '#';\r\n}\r\n\r\nexport function isComponentVNode(vNode) {\r\n    return !isString(vNode.type); // && isFunction(vNode.type)\r\n}\r\n\r\nexport function throwError(message) {\r\n    if (!message) {\r\n        message = 'a runtime error occured!';\r\n    }\r\n    throw new Error(`Neact Error: ${ message }`);\r\n}\r\n\r\nexport function warning(msg) {\r\n    if (console) {\r\n        console.warn(msg);\r\n    }\r\n}\r\n\r\nexport const EMPTY_OBJ = {};\r\n\r\nexport function inherits(cls, base, proto) {\r\n    function F() {}\r\n    F.prototype = base.prototype;\r\n    cls.prototype = new F();\r\n\r\n    if (proto) {\r\n        for (var prop in proto) {\r\n            cls.prototype[prop] = proto[prop];\r\n        }\r\n    }\r\n\r\n    cls.constructor = cls;\r\n}\r\n\r\n\r\n/**\r\n * 数组或对象遍历\r\n * @param {Object|Array} obj\r\n * @param {Function} cb\r\n * @param {*} [context]\r\n */\r\nexport function each(obj, cb, context) {\r\n    if (!(obj && cb)) {\r\n        return;\r\n    }\r\n    if (obj.forEach && obj.forEach === nativeForEach) {\r\n        obj.forEach(cb, context);\r\n    } else if (obj.length === +obj.length) {\r\n        for (var i = 0, len = obj.length; i < len; i++) {\r\n            cb.call(context, obj[i], i, obj);\r\n        }\r\n    } else {\r\n        for (var key in obj) {\r\n            if (obj.hasOwnProperty(key)) {\r\n                cb.call(context, obj[key], key, obj);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * 数组映射\r\n * @param {Array} obj\r\n * @param {Function} cb\r\n * @param {*} [context]\r\n * @return {Array}\r\n */\r\nexport function map(obj, cb, context) {\r\n    if (!(obj && cb)) {\r\n        return;\r\n    }\r\n    if (obj.map && obj.map === nativeMap) {\r\n        return obj.map(cb, context);\r\n    } else {\r\n        var result = [];\r\n        for (var i = 0, len = obj.length; i < len; i++) {\r\n            result.push(cb.call(context, obj[i], i, obj));\r\n        }\r\n        return result;\r\n    }\r\n}\r\n\r\n/**\r\n * 数组过滤\r\n * @param {Array} obj\r\n * @param {Function} cb\r\n * @param {*} [context]\r\n * @return {Array}\r\n */\r\nexport function filter(obj, cb, context) {\r\n    if (!(obj && cb)) {\r\n        return;\r\n    }\r\n    if (obj.filter && obj.filter === nativeFilter) {\r\n        return obj.filter(cb, context);\r\n    } else {\r\n        var result = [];\r\n        for (var i = 0, len = obj.length; i < len; i++) {\r\n            if (cb.call(context, obj[i], i, obj)) {\r\n                result.push(obj[i]);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n}\r\n\r\nexport function bind(func, context) {\r\n    return function() {\r\n        func.apply(context, arguments);\r\n    }\r\n}\r\n\r\nexport var flatten = function(input) {\r\n    var output = [],\r\n        idx = 0;\r\n    for (var i = 0, length = input && input.length; i < length; i++) {\r\n        var value = input[i];\r\n        if (isArray(value)) {\r\n            value = flatten(value);\r\n            var j = 0,\r\n                len = value.length;\r\n            output.length += len;\r\n            while (j < len) {\r\n                output[idx++] = value[j++];\r\n            }\r\n        } else {\r\n            output[idx++] = value;\r\n        }\r\n    }\r\n    return output;\r\n};\r\n\r\nexport function assign(target) {\r\n    if (Object.assign) {\r\n        return Object.assign.apply(Object, arguments);\r\n    }\r\n\r\n    if (target === undefined || target === null) {\r\n        throw new TypeError('Cannot convert undefined or null to object');\r\n    }\r\n\r\n    var output = Object(target);\r\n    for (var index = 1; index < arguments.length; index++) {\r\n        var source = arguments[index];\r\n        if (source !== undefined && source !== null) {\r\n            for (var nextKey in source) {\r\n                if (source.hasOwnProperty(nextKey)) {\r\n                    output[nextKey] = source[nextKey];\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return output;\r\n};","'use strict';\r\nimport {\r\n    isArray,\r\n    isInvalid,\r\n    isStringOrNumber,\r\n    isComponentVNode,\r\n    isVNode\r\n} from './shared';\r\n\r\nexport function createEmptyVNode() {\r\n    return createVNode('#comment', null, null, null, null, null, null, false, null, true);\r\n}\r\n\r\nexport const createVoidVNode = createEmptyVNode;\r\n\r\nexport const emptyVNode = createEmptyVNode();\r\n\r\nexport function createTextVNode(text) {\r\n    return createVNode('#text', null, text, null, null, null, null, false, null, true);\r\n}\r\n\r\nexport function createVNode(\r\n    type,\r\n    props,\r\n    children,\r\n    events,\r\n    hooks,\r\n    ref,\r\n    key,\r\n    isSVG,\r\n    owner,\r\n    noNormalise = false\r\n) {\r\n    var vNode = {\r\n        $$isVNode: true,\r\n        type: type,\r\n        key: key === undefined ? null : key,\r\n        ref: ref === undefined ? null : ref,\r\n        props: props === undefined ? null : props,\r\n        isSVG: isSVG === undefined ? null : isSVG,\r\n        children: children === undefined ? null : children,\r\n        parentVNode: null,\r\n        events: events || null,\r\n        hooks: hooks || null,\r\n        dom: null,\r\n        _owner: owner || null\r\n    };\r\n\r\n    if (!noNormalise) {\r\n        normalize(vNode);\r\n    }\r\n\r\n    return vNode;\r\n}\r\n\r\nfunction normalize(vNode) {\r\n    const isComponent = isComponentVNode(vNode);\r\n\r\n    if (!isInvalid(vNode.children)) {\r\n        vNode.children = normalizeChildren(vNode.children, isComponent ? null : vNode);\r\n    }\r\n\r\n    if (isComponent) {\r\n        if (!vNode.props) {\r\n            vNode.props = {};\r\n        }\r\n        vNode.props.children = vNode.children;\r\n        vNode.children = null;\r\n    }\r\n}\r\n\r\nfunction normalizeChildren(children, parentVNode) {\r\n    if (isArray(children)) {\r\n        return normalizeVNodes(children, parentVNode);\r\n    } else if (isStringOrNumber(children)) {\r\n        children = createTextVNode(children);\r\n    }\r\n    if (isVNode(children)) {\r\n        children.parentVNode = parentVNode;\r\n    }\r\n    return children;\r\n}\r\n\r\nfunction normalizeVNodes(nodes, parentVNode) {\r\n    let newNodes = [];\r\n\r\n    for (let i = 0; i < nodes.length; i++) {\r\n        let n = nodes[i];\r\n        if (isInvalid(n)) { continue; }\r\n        if (isStringOrNumber(n)) {\r\n            n = createTextVNode(n);\r\n        }\r\n\r\n        n.parentVNode = parentVNode;\r\n\r\n        newNodes.push(n);\r\n    }\r\n\r\n    return newNodes.length > 0 ? newNodes : null;\r\n}","'use strict';\r\n\r\nlet CurrentOwner = {\r\n    current: null\r\n};\r\n\r\nexport default CurrentOwner;","'use strict';\r\n\r\nimport {\r\n    isNull,\r\n    isArray,\r\n    isString,\r\n    isNumber,\r\n    isInvalid,\r\n    isObject,\r\n    isAttrAnEvent,\r\n    isNullOrUndef,\r\n    flatten,\r\n    assign,\r\n    throwError,\r\n    isVNode,\r\n    isTextVNode,\r\n    isComponentVNode,\r\n    isVoidVNode,\r\n    isEmptyVNode\r\n} from './shared';\r\n\r\nimport {\r\n    createVNode,\r\n    createTextVNode,\r\n    createEmptyVNode\r\n} from './vnode';\r\n\r\nimport CurrentOwner from './currentOwner';\r\n\r\nexport function createElement(type, config, ..._children) {\r\n    if (isInvalid(type) || isObject(type) || isNumber(type)) {\r\n        throw new Error('Neact Error: createElement() type parameter cannot be undefined, null, false or true, It must be a string, class or function.');\r\n    }\r\n\r\n    let prop, children = flatten(_children),\r\n        props = {},\r\n        events = null,\r\n        hooks = null,\r\n        key = null,\r\n        ref = null,\r\n        isSVG = false;\r\n\r\n    if (children.length === 1) {\r\n        children = children[0];\r\n    } else if (children.length === 0) {\r\n        children = null;\r\n    }\r\n\r\n    if (!isNullOrUndef(config)) {\r\n        for (prop in config) {\r\n            if (prop === 'key') {\r\n                key = '' + config.key;\r\n            } else if (prop === 'ref') {\r\n                ref = config.ref;\r\n            } else if (prop === 'hooks') {\r\n                hooks = config.hooks;\r\n            } else if (isString(type) && isAttrAnEvent(prop)) {\r\n                if (!events) {\r\n                    events = {};\r\n                }\r\n                events[prop.toLowerCase()] = config[prop];\r\n            } else {\r\n                props[prop] = config[prop];\r\n            }\r\n        }\r\n    }\r\n\r\n    //class or function.\r\n    if (!isString(type) && type.defaultProps) {\r\n        let defaultProps = type.defaultProps;\r\n        for (prop in defaultProps) {\r\n            if (props[prop] === undefined) {\r\n                props[prop] = defaultProps[prop];\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    if (!children && props.children) {\r\n        children = props.children;\r\n    }\r\n\r\n    delete props.children;\r\n\r\n    if (isString(type)) {\r\n        if (type[0] === 's' && type[1] === 'v' && type[2] === 'g') {\r\n            isSVG = true;\r\n        }\r\n\r\n        if (props.dangerouslySetInnerHTML && !isNullOrUndef(children)) {\r\n            throwError('Can only set one of `children` or `props.dangerouslySetInnerHTML`');\r\n        }\r\n    }\r\n\r\n    return createVNode(type, props, children, events, hooks, ref, key, isSVG, CurrentOwner.current);\r\n}\r\n\r\nexport function cloneElement(element, config, ..._children) {\r\n    if (!isVNode(element)) {\r\n        return element;\r\n    }\r\n    if (isTextVNode(element)) {\r\n        return createTextVNode(element.children);\r\n    }\r\n    if (isEmptyVNode(element)) {\r\n        return createEmptyVNode();\r\n    }\r\n    let prop, i, child, children = flatten(_children),\r\n        type = element.type,\r\n        props = assign({}, element.props);\r\n\r\n    if (children.length === 1) {\r\n        children = children[0];\r\n    } else if (children.length === 0) {\r\n        children = null;\r\n    }\r\n\r\n    var key = element.key;\r\n    var ref = element.ref;\r\n    var hooks = element.hooks;\r\n    var events = element.events;\r\n\r\n    var owner = element._owner;\r\n\r\n    if (!isNullOrUndef(config)) {\r\n        for (prop in config) {\r\n            if (prop === 'key') {\r\n                key = key ? key : '' + config.key;\r\n            } else if (prop === 'ref') {\r\n                ref = ref ? ref : config.ref;\r\n            } else if (prop === 'hooks') {\r\n                hooks = hooks ? assign(hooks, config.hooks) : config.hooks;\r\n            } else if (isString(type) && isAttrAnEvent(prop)) {\r\n                if (!events) {\r\n                    events = {};\r\n                }\r\n                events[prop.toLowerCase()] = config[prop];\r\n            } else {\r\n                props[prop] = config[prop];\r\n            }\r\n        }\r\n    }\r\n\r\n    if (!children && config && config.children) {\r\n        children = config.children;\r\n    }\r\n\r\n    delete props.children;\r\n\r\n    let newChildren = [],\r\n        oldChildren = isComponentVNode(element) ? element.props.children : element.children;\r\n\r\n    children = children ? [].concat(oldChildren, children) : oldChildren;\r\n\r\n    if (children) {\r\n        if (isArray(children)) {\r\n            for (i = 0; i < children.length; i++) {\r\n                child = children[i];\r\n                if (!child) { continue; }\r\n                newChildren.push(isVNode(child) ? cloneElement(child) : child);\r\n            }\r\n            if (newChildren.length === 1) {\r\n                newChildren = newChildren[0];\r\n            } else if (newChildren.length === 0) {\r\n                newChildren = null;\r\n            }\r\n        } else {\r\n            newChildren = cloneElement(children);\r\n        }\r\n    }\r\n\r\n    return createVNode(type, props, newChildren, events, hooks, ref, key, element.isSVG, CurrentOwner.current);\r\n}","'use strict';\r\n\r\nexport default function CallbackQueue() {\r\n    this.listeners = [];\r\n}\r\nCallbackQueue.prototype.enqueue = function(callback) {\r\n    this.listeners.push(callback);\r\n};\r\n\r\nCallbackQueue.prototype.notifyAll = function() {\r\n    const cbs = this.listeners;\r\n    this.listeners = [];\r\n    for (let i = 0; i < cbs.length; i++) {\r\n        cbs[i]();\r\n    }\r\n};","'use strict';\r\n\r\nexport function shouldUpdateRefs(lastVNode, nextVNode) {\r\n    const lastRef = lastVNode.ref;\r\n    const nextRef = nextVNode.ref;\r\n    const lastOwner = lastVNode._owner;\r\n    const nextOwner = nextVNode._owner;\r\n    return lastRef !== nextRef ||\r\n        typeof nextRef === 'string' && nextOwner !== lastOwner;\r\n}\r\n\r\nexport function detachRef(vNode) {\r\n    var ref = vNode.ref;\r\n    var owner = vNode._owner;\r\n\r\n    if (typeof ref === 'function') {\r\n        ref(null);\r\n    } else if (ref && owner) {\r\n        delete owner.refs[ref];\r\n    }\r\n}\r\n\r\nexport function attachRef(vNode) {\r\n    var ref = vNode.ref;\r\n    var owner = vNode._owner;\r\n    var target = vNode._instance || vNode.dom;\r\n    \r\n    if (typeof ref === 'function') {\r\n        ref(target);\r\n    } else if (ref && owner) {\r\n        owner.refs[ref] = target;\r\n    }\r\n}","'use strict';\r\nimport {\r\n    addEventListener,\r\n    removeEventListener\r\n} from './domUtils';\r\n\r\nimport {\r\n    emptyVNode\r\n} from './vnode';\r\n\r\nimport {\r\n    isObject\r\n} from './shared';\r\n\r\nfunction ename(s) {\r\n    return s.replace('on', '');\r\n}\r\n\r\nfunction invokeHandler(handler, vnode, event) {\r\n    var el = vnode.dom;\r\n    if (typeof handler === \"function\") {\r\n        // call function handler\r\n        handler.call(el, event, vnode);\r\n    } else if (isObject(handler)) {\r\n        // call handler with arguments\r\n        if (typeof handler[0] === \"function\") {\r\n            // special case for single argument for performance\r\n            if (handler.length === 2) {\r\n                handler[0].call(el, handler[1], event, vnode);\r\n            } else {\r\n                var args = handler.slice(1);\r\n                args.push(event);\r\n                args.push(vnode);\r\n                handler[0].apply(el, args);\r\n            }\r\n        } else {\r\n            // call multiple handlers\r\n            for (var i = 0; i < handler.length; i++) {\r\n                invokeHandler(handler[i], vnode, event);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction handleEvent(event, vnode) {\r\n    var name = 'on' + event.type,\r\n        on = vnode.events;\r\n\r\n    // call event handler(s) if exists\r\n    if (on && on[name]) {\r\n        invokeHandler(on[name], vnode, event);\r\n    }\r\n}\r\n\r\nfunction createListener() {\r\n    function handler(e) {\r\n        e = e || event;\r\n        handleEvent(e, handler.vnode);\r\n    }\r\n    return handler;\r\n}\r\n\r\nexport function createDOMEvents(vNode) {\r\n    updateDOMEvents(emptyVNode, vNode);\r\n}\r\n\r\nexport function updateDOMEvents(oldVnode, vnode) {\r\n    var oldOn = oldVnode.events,\r\n        oldListener = oldVnode._listener,\r\n        oldElm = oldVnode.dom,\r\n        on = vnode && vnode.events,\r\n        elm = vnode && vnode.dom,\r\n        name;\r\n\r\n    // optimization for reused immutable handlers\r\n    if (oldOn === on) {\r\n        return;\r\n    }\r\n\r\n    // remove existing listeners which no longer used\r\n    if (oldOn && oldListener) {\r\n        // if element changed or deleted we remove all existing listeners unconditionally\r\n        if (!on) {\r\n            for (name in oldOn) {\r\n                // remove listener if element was changed or existing listeners removed\r\n                removeEventListener(oldElm, ename(name), oldListener);\r\n            }\r\n        } else {\r\n            for (name in oldOn) {\r\n                // remove listener if existing listener removed\r\n                if (!on[name]) {\r\n                    removeEventListener(oldElm, ename(name), oldListener);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // add new listeners which has not already attached\r\n    if (on) {\r\n        // reuse existing listener or create new\r\n        var listener = vnode._listener = oldVnode._listener || createListener();\r\n        // update vnode for listener\r\n        listener.vnode = vnode;\r\n\r\n        // if element changed or added we add all needed listeners unconditionally\r\n        if (!oldOn) {\r\n            for (name in on) {\r\n                // add listener if element was changed or new listeners added\r\n                addEventListener(elm, ename(name), listener);\r\n            }\r\n        } else {\r\n            for (name in on) {\r\n                // add listener if new listener added\r\n                if (!oldOn[name]) {\r\n                    addEventListener(elm, ename(name), listener);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function destroyDOMEvents(vNode) {\r\n    updateDOMEvents(vNode, emptyVNode);\r\n}","'use strict';\r\n\r\nimport {\r\n    isVNode,\r\n    isElementVNode,\r\n    isTextVNode,\r\n    isComponentVNode,\r\n    isVoidVNode,\r\n    isNull,\r\n    isNullOrUndef,\r\n    isInvalid,\r\n    isArray,\r\n    isObject,\r\n    isStatefulComponent\r\n} from './shared';\r\n\r\nimport {\r\n    detachRef\r\n} from './refs';\r\n\r\nimport {\r\n    removeChild\r\n} from './domUtils';\r\n\r\nimport {\r\n    destroyDOMEvents\r\n} from './processDOMEvents';\r\n\r\nimport CallbackQueue from './callbackQueue';\r\n\r\nfunction unmountVoidOrText(vNode, parentDom) {\r\n    if (parentDom) {\r\n        removeChild(parentDom, vNode.dom);\r\n    }\r\n}\r\n\r\nfunction unmountChildren(children, callback) {\r\n    if (isArray(children)) {\r\n        for (let i = 0; i < children.length; i++) {\r\n            const child = children[i];\r\n\r\n            if (!isInvalid(child) && isVNode(child)) {\r\n                unmount(child, null, callback);\r\n            }\r\n        }\r\n    } else if (isVNode(children)) {\r\n        unmount(children, null, callback);\r\n    }\r\n}\r\n\r\nexport function unmountElement(vNode, parentDom, callback) {\r\n    const dom = vNode.dom;\r\n    const events = vNode.events;\r\n    const hooks = vNode.hooks || {};\r\n    const children = vNode.children;\r\n\r\n    if (!isNull(vNode.ref)) {\r\n        detachRef(vNode);\r\n    }\r\n\r\n    destroyDOMEvents(vNode);\r\n\r\n    if (parentDom) {\r\n        removeChild(parentDom, dom);\r\n    }\r\n\r\n    if (!isNullOrUndef(children)) {\r\n        unmountChildren(children, callback);\r\n    }\r\n\r\n    if (hooks.destroy) {\r\n        hooks.destroy(vNode);\r\n    }\r\n\r\n}\r\n\r\nexport function unmountComponent(vNode, parentDom, callback) {\r\n    const inst = vNode._instance;\r\n    const isClass = isStatefulComponent(vNode.type);\r\n    const children = vNode.children;\r\n    const props = vNode.props;\r\n    const hooks = vNode.hooks || {};\r\n    const dom = vNode.dom;\r\n\r\n    if (parentDom) {\r\n        removeChild(parentDom, vNode.dom);\r\n    }\r\n\r\n    if (isClass) {\r\n        if (!inst._unmounted) {\r\n            inst._ignoreSetState = true;\r\n            //TODO: beforeUnmount\r\n            if (inst.componentWillUnmount) {\r\n                inst.componentWillUnmount();\r\n            }\r\n\r\n            if (!isNull(vNode.ref)) {\r\n                detachRef(vNode);\r\n            }\r\n\r\n            unmount(children, null, callback);\r\n\r\n            inst._unmounted = true;\r\n            inst._ignoreSetState = false;\r\n\r\n            if (inst.componentDidUnmount) { inst.componentDidUnmount(); }\r\n        }\r\n    } else {\r\n        if (!isNullOrUndef(props.onComponentWillUnmount)) {\r\n            props.onComponentWillUnmount(vNode);\r\n        }\r\n\r\n        if (!isNull(vNode.ref)) {\r\n            detachRef(vNode);\r\n        }\r\n\r\n        unmount(children, null, callback);\r\n\r\n        if (!isNullOrUndef(props.onComponentDidUnmount)) {\r\n            props.onComponentDidUnmount(vNode);\r\n        }\r\n    }\r\n\r\n    if (hooks.destroy) {\r\n        hooks.destroy(vNode);\r\n    }\r\n}\r\n\r\nexport function unmount(vNode, parentDom, callback) {\r\n    var isUndefCallbacks = isNullOrUndef(callback);\r\n    callback = callback || new CallbackQueue();\r\n\r\n    if (isElementVNode(vNode)) {\r\n        unmountElement(vNode, parentDom, callback);\r\n    } else if (isVoidVNode(vNode) || isTextVNode(vNode)) {\r\n        unmountVoidOrText(vNode, parentDom);\r\n    } else if (isComponentVNode(vNode)) {\r\n        unmountComponent(vNode, parentDom, callback);\r\n    }\r\n\r\n    if (isUndefCallbacks) {\r\n        callback.notifyAll();\r\n    }\r\n}","'use strict';\r\nimport { unmount } from './unmount';\r\nimport { mount } from './mount';\r\n\r\nconst svgNS = 'http://www.w3.org/2000/svg';\r\n\r\nexport function appendChild(parentDom, dom) {\r\n    parentDom.appendChild(dom);\r\n}\r\n\r\nexport function insertBefore(parentNode, newNode, referenceNode) {\r\n    parentNode.insertBefore(newNode, referenceNode);\r\n}\r\n\r\nexport function nextSibling(node) {\r\n    return node.nextSibling;\r\n}\r\n\r\nexport function removeChild(parentDom, dom) {\r\n    parentDom.removeChild(dom);\r\n}\r\n\r\nexport function documentCreateElement(tag, isSVG) {\r\n    if (isSVG === true) {\r\n        return document.createElementNS(svgNS, tag);\r\n    } else {\r\n        return document.createElement(tag);\r\n    }\r\n}\r\n\r\nexport function setTextContent(node, text) {\r\n    if (node.nodeType === 3) {\r\n        node.data = text;\r\n    } else {\r\n        if ('textContent' in node) {\r\n            node.textContent = text;\r\n        } else {\r\n            node.innerText = text;\r\n        }\r\n    }\r\n}\r\n\r\nexport function updateTextContent(dom, text) {\r\n    dom.firstChild.nodeValue = text;\r\n}\r\n\r\nexport function replaceWithNewNode(lastNode, nextNode, parentDom, callback, context, isSVG) {\r\n    unmount(lastNode, null);\r\n    const dom = mount(nextNode, null, callback, context, isSVG);\r\n\r\n    nextNode.dom = dom;\r\n    replaceChild(parentDom, dom, lastNode.dom);\r\n}\r\n\r\nexport function replaceChild(parentDom, nextDom, lastDom) {\r\n    if (!parentDom) {\r\n        parentDom = lastDom.parentNode;\r\n    }\r\n    parentDom.replaceChild(nextDom, lastDom);\r\n}\r\n\r\nexport function addEventListener(node, name, fn) {\r\n    if (typeof node.addEventListener == \"function\") {\r\n        node.addEventListener(name, fn, false);\r\n    } else if (typeof node.attachEvent != \"undefined\") {\r\n        var attachEventName = \"on\" + name;\r\n        node.attachEvent(attachEventName, fn);\r\n    }\r\n}\r\n\r\nexport function removeEventListener(node, name, fn) {\r\n    if (typeof node.removeEventListener == \"function\") {\r\n        node.removeEventListener(name, fn, false);\r\n    } else if (typeof node.detachEvent != \"undefined\") {\r\n        var attachEventName = \"on\" + name;\r\n        node.detachEvent(attachEventName, fn);\r\n    }\r\n}","'use strict';\r\n\r\nimport {\r\n    isNullOrUndef,\r\n    isUndefined,\r\n    emptyObject,\r\n    assign\r\n} from './shared';\r\n\r\nexport default function createComponentInstance(vNode, context, isSVG) {\r\n    const type = vNode.type;\r\n    const props = vNode.props || {};\r\n    const ref = vNode.ref;\r\n\r\n    if (isUndefined(context)) {\r\n        context = {};\r\n    }\r\n\r\n    const inst = new type(props, context);\r\n\r\n    inst.props = props;\r\n    inst.context = context;\r\n    inst.refs = emptyObject;\r\n\r\n    var initialState = inst.state;\r\n    if (initialState === undefined) {\r\n        inst.state = initialState = null;\r\n    }\r\n\r\n    inst._unmounted = false;\r\n    inst._isSVG = isSVG;\r\n\r\n    const childContext = inst.getChildContext();\r\n\r\n    if (!isNullOrUndef(childContext)) {\r\n        inst._childContext = assign({}, context, childContext);\r\n    } else {\r\n        inst._childContext = context;\r\n    }\r\n\r\n    return inst;\r\n}","'use strict';\r\nlet processDOMPropertyHooks = {\r\n\r\n};\r\nexport default processDOMPropertyHooks;","'use strict';\r\nexport var canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\r\n\r\nexport var canUseEventListeners = canUseDOM && !!(window.addEventListener || window.attachEvent);\r\n\r\nexport var ieVersion = canUseDOM && document && (function() {\r\n    var version = 3,\r\n        div = document.createElement('div'),\r\n        iElems = div.getElementsByTagName('i');\r\n\r\n    // Keep constructing conditional HTML blocks until we hit one that resolves to an empty fragment\r\n    while (\r\n        div.innerHTML = '<!--[if gt IE ' + (++version) + ']><i></i><![endif]-->',\r\n        iElems[0]\r\n    ) {}\r\n    return version > 4 ? version : undefined;\r\n}());\r\n\r\nexport var isIE = canUseDOM && !ieVersion;","'use strict';\r\n\r\nimport {\r\n    canUseDOM\r\n} from '../support';\r\n\r\nfunction constructDefaults(string, object, value) {\r\n    var r = string.split(',');\r\n    for (let i = 0; i < r.length; i++) {\r\n        object[r[i]] = value;\r\n    }\r\n}\r\n\r\nexport const xlinkNS = 'http://www.w3.org/1999/xlink';\r\nexport const xmlNS = 'http://www.w3.org/XML/1998/namespace';\r\nexport const svgNS = 'http://www.w3.org/2000/svg';\r\nexport const strictProps = {};\r\nexport const booleanProps = {};\r\nexport const namespaces = {};\r\nexport const isUnitlessNumber = {};\r\nexport const skipProps = {};\r\nexport const dehyphenProps = {\r\n    acceptCharset: 'accept-charset',\r\n    httpEquiv: 'http-equiv'\r\n};\r\nexport const probablyKebabProps = /^(accentH|arabicF|capH|font[FSVW]|glyph[NO]|horiz[AO]|panose1|renderingI|strikethrough[PT]|underline[PT]|v[AHIM]|vert[AO]|xH|alignmentB|baselineS|clip[PR]|color[IPR]|dominantB|enableB|fill[OR]|flood[COF]|imageR|letterS|lightingC|marker[EMS]|pointerE|shapeR|stop[CO]|stroke[DLMOW]|text[ADR]|unicodeB|wordS|writingM).*/;\r\n\r\nexport function kebabize(str, smallLetter, largeLetter) {\r\n    return `${smallLetter}-${largeLetter.toLowerCase()}`;\r\n}\r\n\r\nconstructDefaults('xlink:href,xlink:arcrole,xlink:actuate,xlink:role,xlink:titlef,xlink:type', namespaces, xlinkNS);\r\nconstructDefaults('xml:base,xml:lang,xml:space', namespaces, xmlNS);\r\nconstructDefaults('volume,defaultValue,value', strictProps, true);\r\nconstructDefaults('children,ref,key', skipProps, true);\r\n\r\nconstructDefaults('muted,scoped,loop,open,checked,multiple,defaultChecked,selected,default,capture,disabled,readOnly,required,autoplay,controls,seamless,reversed,allowfullscreen,novalidate', booleanProps, true);\r\n\r\nconstructDefaults('animationIterationCount,borderImageOutset,borderImageSlice,borderImageWidth,boxFlex,boxFlexGroup,boxOrdinalGroup,columnCount,flex,flexGrow,flexPositive,flexShrink,flexNegative,flexOrder,gridRow,gridColumn,fontWeight,lineClamp,lineHeight,opacity,order,orphans,tabSize,widows,zIndex,zoom,fillOpacity,floodOpacity,stopOpacity,strokeDasharray,strokeDashoffset,strokeMiterlimit,strokeOpacity,strokeWidth,', isUnitlessNumber, true);\r\n\r\nlet hasShorthandPropertyBug = false;\r\nlet styleFloatAccessor = 'cssFloat';\r\n\r\nif (canUseDOM) {\r\n    let tempStyle = document.createElement('div').style;\r\n    try {\r\n        // IE8 throws \"Invalid argument.\" if resetting shorthand style properties.\r\n        tempStyle.font = '';\r\n    } catch (e) {\r\n        hasShorthandPropertyBug = true;\r\n    }\r\n    // IE8 only supports accessing cssFloat (standard) as styleFloat\r\n    if (document.documentElement.style.cssFloat === undefined) {\r\n        styleFloatAccessor = 'styleFloat';\r\n    }\r\n}\r\nexport {\r\n    hasShorthandPropertyBug,\r\n    styleFloatAccessor\r\n};\r\n\r\n\r\n/**\r\n * Most style properties can be unset by doing .style[prop] = '' but IE8\r\n * doesn't like doing that with shorthand properties so for the properties that\r\n * IE8 breaks on, which are listed here, we instead unset each of the\r\n * individual properties. See http://bugs.jquery.com/ticket/12385.\r\n * The 4-value 'clock' properties like margin, padding, border-width seem to\r\n * behave without any problems. Curiously, list-style works too without any\r\n * special prodding.\r\n */\r\nexport const shorthandPropertyExpansions = {\r\n    background: {\r\n        backgroundAttachment: true,\r\n        backgroundColor: true,\r\n        backgroundImage: true,\r\n        backgroundPositionX: true,\r\n        backgroundPositionY: true,\r\n        backgroundRepeat: true\r\n    },\r\n    backgroundPosition: {\r\n        backgroundPositionX: true,\r\n        backgroundPositionY: true\r\n    },\r\n    border: {\r\n        borderWidth: true,\r\n        borderStyle: true,\r\n        borderColor: true\r\n    },\r\n    borderBottom: {\r\n        borderBottomWidth: true,\r\n        borderBottomStyle: true,\r\n        borderBottomColor: true\r\n    },\r\n    borderLeft: {\r\n        borderLeftWidth: true,\r\n        borderLeftStyle: true,\r\n        borderLeftColor: true\r\n    },\r\n    borderRight: {\r\n        borderRightWidth: true,\r\n        borderRightStyle: true,\r\n        borderRightColor: true\r\n    },\r\n    borderTop: {\r\n        borderTopWidth: true,\r\n        borderTopStyle: true,\r\n        borderTopColor: true\r\n    },\r\n    font: {\r\n        fontStyle: true,\r\n        fontVariant: true,\r\n        fontWeight: true,\r\n        fontSize: true,\r\n        lineHeight: true,\r\n        fontFamily: true\r\n    },\r\n    outline: {\r\n        outlineWidth: true,\r\n        outlineStyle: true,\r\n        outlineColor: true\r\n    }\r\n};","'use strict';\r\nimport {\r\n    isNullOrUndef,\r\n    isString,\r\n    isNumber,\r\n    emptyObject\r\n} from '../shared';\r\n\r\nimport {\r\n    isUnitlessNumber,\r\n    styleFloatAccessor,\r\n    hasShorthandPropertyBug,\r\n    shorthandPropertyExpansions\r\n} from './constants';\r\n\r\nvar raf = (typeof window !== 'undefined' && window.requestAnimationFrame) || setTimeout;\r\nvar nextFrame = function(fn) { raf(function() { raf(fn); }); };\r\n\r\nfunction setNextFrame(obj, prop, val) {\r\n    nextFrame(function() { obj[prop] = val; });\r\n}\r\n\r\nexport default function(lastValue, nextValue, prop, isSVG, dom, vNode) {\r\n    if (lastValue === nextValue) { return; }\r\n    if (isString(nextValue)) {\r\n        dom.style.cssText = nextValue;\r\n        return;\r\n    }\r\n    if (isString(lastValue)) {\r\n        dom.style.cssText = '';\r\n        lastValue = {};\r\n    }\r\n\r\n    var cur, name, elm = dom,\r\n        domStyle = dom.style,\r\n        oldStyle = lastValue,\r\n        style = nextValue;\r\n\r\n    if (!oldStyle && !style) { return; }\r\n    oldStyle = oldStyle || emptyObject;\r\n    style = style || emptyObject;\r\n    var oldHasDel = 'delayed' in oldStyle;\r\n\r\n    for (name in oldStyle) {\r\n        if (!style[name]) {\r\n            let expansion = hasShorthandPropertyBug && shorthandPropertyExpansions[name];\r\n            if (expansion) {\r\n                // Shorthand property that IE8 won't like unsetting, so unset each\r\n                // component to placate it\r\n                for (let individualStyleName in expansion) {\r\n                    domStyle[individualStyleName] = '';\r\n                }\r\n            } else {\r\n                domStyle[name] = '';\r\n            }\r\n        }\r\n    }\r\n    for (name in style) {\r\n        cur = dangerousStyleValue(name, style[name]);\r\n        if (name === 'float' || name === 'cssFloat') {\r\n            name = styleFloatAccessor;\r\n        }\r\n        if (name === 'delayed') {\r\n            for (name in style.delayed) {\r\n                cur = style.delayed[name];\r\n                if (!oldHasDel || cur !== oldStyle.delayed[name]) {\r\n                    setNextFrame(domStyle, name, cur);\r\n                }\r\n            }\r\n        } else if (cur !== oldStyle[name]) {\r\n            domStyle[name] = cur;\r\n        }\r\n    }\r\n}\r\n\r\n\r\nfunction dangerousStyleValue(name, value) {\r\n    var isEmpty = value == null || typeof value === 'boolean' || value === '';\r\n    if (isEmpty) {\r\n        return '';\r\n    }\r\n\r\n    var isNonNumeric = isNaN(value);\r\n    if (isNonNumeric || value === 0 || isUnitlessNumber[name]) {\r\n        return '' + value; // cast to string\r\n    }\r\n\r\n    if (typeof value === 'string') {\r\n        value = value.trim();\r\n    }\r\n    return value + 'px';\r\n}","'use strict';\r\nimport {\r\n    isNullOrUndef\r\n} from '../shared';\r\n\r\nimport {\r\n    strictProps,\r\n    booleanProps,\r\n    namespaces,\r\n    skipProps,\r\n    probablyKebabProps,\r\n    dehyphenProps,\r\n    kebabize\r\n} from './constants';\r\n\r\nexport default function(lastValue, nextValue, prop, isSVG, dom, vNode) {\r\n    if (lastValue === nextValue) { return; }\r\n    if (skipProps[prop]) {\r\n        return;\r\n    }\r\n    if (booleanProps[prop]) {\r\n        dom[prop] = nextValue ? true : false;\r\n    } else if (strictProps[prop]) {\r\n        const value = isNullOrUndef(nextValue) ? '' : nextValue;\r\n\r\n        if (dom[prop] !== value) {\r\n            dom[prop] = value;\r\n        }\r\n    } else {\r\n        if (isNullOrUndef(nextValue) && prop !== 'dangerouslySetInnerHTML') {\r\n            dom.removeAttribute(prop);\r\n        } else if (prop === 'htmlFor') {\r\n            dom.setAttribute('for', nextValue);\r\n        } else if (prop === 'className') {\r\n            if (isSVG) {\r\n                dom.setAttribute('class', nextValue);\r\n            } else {\r\n                dom.className = nextValue;\r\n            }\r\n        } else if (prop === 'dangerouslySetInnerHTML') {\r\n            const lastHtml = lastValue && lastValue.__html;\r\n            const nextHtml = nextValue && nextValue.__html;\r\n\r\n            if (lastHtml !== nextHtml) {\r\n                if (!isNullOrUndef(nextHtml)) {\r\n                    dom.innerHTML = nextHtml;\r\n                }\r\n            }\r\n        } else {\r\n            let dehyphenProp;\r\n            if (dehyphenProps[prop]) {\r\n                dehyphenProp = dehyphenProps[prop];\r\n            } else if (isSVG && prop.match(probablyKebabProps)) {\r\n                dehyphenProp = prop.replace(/([a-z])([A-Z]|1)/g, kebabize);\r\n                dehyphenProps[prop] = dehyphenProp;\r\n            } else {\r\n                dehyphenProp = prop;\r\n            }\r\n            const ns = namespaces[prop];\r\n\r\n            if (ns) {\r\n                dom.setAttributeNS(ns, dehyphenProp, nextValue);\r\n            } else {\r\n                dom.setAttribute(dehyphenProp, nextValue);\r\n            }\r\n        }\r\n    }\r\n}","'use strict';\r\nimport {\r\n    addEventListener,\r\n    removeEventListener\r\n} from './domUtils';\r\n\r\nimport {\r\n    isUndefined,\r\n    isNullOrUndef,\r\n    isFunction,\r\n    emptyObject,\r\n    assign\r\n} from './shared';\r\n\r\nimport processDOMPropertyHooks from './processDOMPropertyHooks';\r\n\r\nimport processDOMStyle from './hooks/processDOMStyle';\r\nimport processDOMAttr from './hooks/processDOMAttr';\r\n\r\nconst propertyHooks = assign({\r\n    style: processDOMStyle,\r\n    __default__: processDOMAttr\r\n}, processDOMPropertyHooks);\r\n\r\nexport function createDOMProperty(props, isSVG, vNode) {\r\n    updateDOMProperty(null, props, isSVG, vNode);\r\n}\r\n\r\nexport function updateDOMProperty(lastProps, nextProps, isSVG, vNode) {\r\n    if (lastProps === nextProps) {\r\n        return;\r\n    }\r\n\r\n    const dom = vNode.dom;\r\n\r\n    lastProps = lastProps || emptyObject;\r\n    nextProps = nextProps || emptyObject;\r\n\r\n    if (nextProps !== emptyObject) {\r\n        for (let prop in nextProps) {\r\n            // do not add a hasOwnProperty check here, it affects performance\r\n            const nextValue = isNullOrUndef(nextProps[prop]) ? null : nextProps[prop];\r\n            const lastValue = isNullOrUndef(lastProps[prop]) ? null : lastProps[prop];\r\n            const hook = propertyHooks[prop] ? prop : '__default__';\r\n            propertyHooks[hook](lastValue, nextValue, prop, isSVG, dom, vNode);\r\n        }\r\n    }\r\n    if (lastProps !== emptyObject) {\r\n        for (let prop in lastProps) {\r\n            if (isNullOrUndef(nextProps[prop])) {\r\n                const lastValue = isNullOrUndef(lastProps[prop]) ? null : lastProps[prop];\r\n                const hook = propertyHooks[prop] ? prop : '__default__';\r\n                propertyHooks[hook](lastValue, null, prop, isSVG, dom, vNode);\r\n            }\r\n        }\r\n    }\r\n}","'use strict';\r\nimport {\r\n    cloneElement\r\n} from './createElement';\r\nimport {\r\n    createVoidVNode,\r\n    createTextVNode\r\n} from './vnode';\r\n\r\nimport CallbackQueue from './callbackQueue';\r\n\r\nimport CurrentOwner from './currentOwner';\r\n\r\nimport {\r\n    isVNode,\r\n    isElementVNode,\r\n    isTextVNode,\r\n    isComponentVNode,\r\n    isVoidVNode,\r\n    isString,\r\n    isNull,\r\n    isStringOrNumber,\r\n    isArray,\r\n    isInvalid,\r\n    isUndefined,\r\n    isStatefulComponent,\r\n    isNullOrUndef,\r\n    emptyObject,\r\n    throwError\r\n} from './shared';\r\n\r\nimport {\r\n    documentCreateElement,\r\n    appendChild\r\n} from './domUtils';\r\n\r\nimport {\r\n    attachRef\r\n} from './refs';\r\n\r\nimport createComponentInstance from './createComponentInstance';\r\n\r\n//import processElement from './processElement';\r\n\r\nimport {\r\n    createDOMProperty\r\n} from './processDOMProperty';\r\n\r\nimport {\r\n    createDOMEvents\r\n} from './processDOMEvents';\r\n\r\nexport function mount(vNode, parentDom, callback, context, isSVG) {\r\n    const isUndefCallbacks = isNullOrUndef(callback);\r\n    let r;\r\n    callback = callback || new CallbackQueue();\r\n\r\n    if (isElementVNode(vNode)) {\r\n        r = mountElement(vNode, parentDom, callback, context, isSVG);\r\n    } else if (isTextVNode(vNode)) {\r\n        r = mountText(vNode, parentDom);\r\n    } else if (isComponentVNode(vNode)) {\r\n        r = mountComponent(vNode, parentDom, callback, context, isSVG);\r\n    } else if (isVoidVNode(vNode)) {\r\n        r = mountVoid(vNode, parentDom);\r\n    } else {\r\n        throwError('mount() expects a valid VNode, instead it received an object with the type \"' + typeof vNode + '\".');\r\n    }\r\n\r\n    if (isUndefCallbacks) {\r\n        callback.notifyAll();\r\n    }\r\n    return r;\r\n}\r\n\r\nexport function mountText(vNode, parentDom) {\r\n    const dom = document.createTextNode(vNode.children);\r\n\r\n    vNode.dom = dom;\r\n    if (parentDom) {\r\n        appendChild(parentDom, dom);\r\n    }\r\n    return dom;\r\n}\r\n\r\nexport function mountVoid(vNode, parentDom) {\r\n    const dom = document.createComment('emptyNode');\r\n\r\n    vNode.dom = dom;\r\n    if (parentDom) {\r\n        appendChild(parentDom, dom);\r\n    }\r\n    return dom;\r\n}\r\n\r\nexport function mountElement(vNode, parentDom, callback, context, isSVG) {\r\n    const tag = vNode.type;\r\n\r\n    if (!isSVG) {\r\n        isSVG = vNode.isSVG;\r\n    }\r\n\r\n    const dom = documentCreateElement(tag, isSVG);\r\n    const children = vNode.children;\r\n    const props = vNode.props;\r\n    const events = vNode.events;\r\n    const hooks = vNode.hooks || {};\r\n\r\n    //if (!isNull(parentDom)) {\r\n    //    appendChild(parentDom, dom);\r\n    //}\r\n\r\n    vNode.dom = dom;\r\n\r\n    if (!isNullOrUndef(hooks.beforeCreate)) {\r\n        hooks.beforeCreate(vNode);\r\n    }\r\n\r\n    if (!isNull(children)) {\r\n        if (isArray(children)) {\r\n            mountArrayChildren(children, dom, callback, context, isSVG);\r\n        } else if (isVNode(children)) {\r\n            mount(children, dom, callback, context, isSVG);\r\n        }\r\n    }\r\n\r\n    //processElement(dom, vNode);\r\n\r\n    createDOMProperty(props, isSVG, vNode);\r\n    createDOMEvents(vNode);\r\n\r\n    if (!isNull(vNode.ref)) {\r\n        callback.enqueue(() => attachRef(vNode));\r\n    }\r\n\r\n    if (!isNull(parentDom)) {\r\n        appendChild(parentDom, dom);\r\n    }\r\n\r\n    if (!isNullOrUndef(hooks.create)) {\r\n        callback.enqueue(() => hooks.create(vNode));\r\n    }\r\n    return dom;\r\n}\r\n\r\nexport function mountArrayChildren(children, dom, callback, context, isSVG) {\r\n    for (let i = 0; i < children.length; i++) {\r\n        let child = children[i];\r\n\r\n        if (!isInvalid(child)) {\r\n            mount(child, dom, callback, context, isSVG);\r\n        }\r\n    }\r\n}\r\n\r\nexport function mountComponent(vNode, parentDom, callback, context, isSVG) {\r\n    const type = vNode.type;\r\n    const props = vNode.props;\r\n    const hooks = vNode.hooks || {};\r\n    const isClass = isStatefulComponent(type);\r\n    let dom, children;\r\n\r\n    if (isClass) {\r\n        const inst = createComponentInstance(vNode, context, isSVG);\r\n        vNode._instance = inst;\r\n\r\n        inst._pendingSetState = true;\r\n\r\n        if (inst.componentWillMount) {\r\n            inst.componentWillMount();\r\n            if (inst._pendingStateQueue) {\r\n                inst.state = inst._processPendingState(inst.props, inst.context);\r\n            }\r\n        }\r\n\r\n        inst._ignoreSetState = true;\r\n        CurrentOwner.current = inst;\r\n        vNode.children = inst.render(inst.props, inst.state, inst.context);\r\n        CurrentOwner.current = null;\r\n        inst._ignoreSetState = false;\r\n        normalizeComponentChildren(vNode);\r\n        inst._vNode = vNode;\r\n        //inst._renderedVNode = vNode.children;\r\n        inst._pendingSetState = false;\r\n\r\n        vNode.dom = dom = mount(vNode.children, parentDom, callback, inst._childContext, isSVG);\r\n\r\n        inst._callbacks = new CallbackQueue();\r\n\r\n        if (!isNull(vNode.ref)) {\r\n            callback.enqueue(() => attachRef(vNode));\r\n        }\r\n\r\n        if (inst.componentDidMount) {\r\n            callback.enqueue(() => inst.componentDidMount());\r\n        }\r\n\r\n        if (!isNullOrUndef(hooks.create)) {\r\n            callback.enqueue(() => hooks.create(vNode));\r\n        }\r\n\r\n        if (inst._pendingCallbacks) {\r\n            callback.enqueue(() => inst._processPendingCallbacks());\r\n        }\r\n\r\n    } else {\r\n        //Function Component\r\n        if (!isNullOrUndef(props.onComponentWillMount)) {\r\n            props.onComponentWillMount(vNode);\r\n        }\r\n\r\n        vNode.children = type(props, context);\r\n        normalizeComponentChildren(vNode);\r\n        vNode.dom = dom = mount(vNode.children, parentDom, callback, context, isSVG);\r\n\r\n        if (!isNull(vNode.ref)) {\r\n            callback.enqueue(() => attachRef(vNode));\r\n        }\r\n\r\n        if (!isNullOrUndef(props.onComponentDidMount)) {\r\n            callback.enqueue(() => props.onComponentDidMount(vNode));\r\n        }\r\n\r\n        if (!isNullOrUndef(hooks.create)) {\r\n            callback.enqueue(() => hooks.create(vNode));\r\n        }\r\n    }\r\n\r\n    return dom;\r\n}\r\n\r\nexport function normalizeComponentChildren(vNode) {\r\n    let children = vNode.children;\r\n\r\n    if (isArray(children)) {\r\n        throwError('a valid Neact VNode (or null) must be returned from a component render. You may have returned an array or an invalid object.');\r\n    } else if (isInvalid(children)) {\r\n        vNode.children = createVoidVNode();\r\n    } else if (isStringOrNumber(children)) {\r\n        vNode.children = createTextVNode(children);\r\n    }\r\n\r\n    vNode.children.parentVNode = vNode;\r\n\r\n    return vNode;\r\n}","'use strict';\r\n\r\nimport {\r\n    isUndefined,\r\n    isDefined,\r\n    isInvalid,\r\n    isStringOrNumber,\r\n    isNullOrUndef,\r\n    isArray,\r\n    isNull,\r\n    isStatefulComponent,\r\n    isElementVNode,\r\n    isComponentVNode,\r\n    isTextVNode,\r\n    isVoidVNode,\r\n    isVNode,\r\n    isSameVNode,\r\n    toArray,\r\n    emptyObject,\r\n    throwError,\r\n    assign\r\n} from './shared';\r\n\r\n\r\nimport {\r\n    mount,\r\n    mountArrayChildren,\r\n    normalizeComponentChildren\r\n} from './mount';\r\n\r\nimport { unmount } from './unmount';\r\n\r\nimport {\r\n    insertBefore,\r\n    nextSibling,\r\n    replaceWithNewNode,\r\n    setTextContent\r\n} from './domUtils';\r\n\r\nimport {\r\n    shouldUpdateRefs,\r\n    attachRef,\r\n    detachRef\r\n} from './refs';\r\n\r\nimport CallbackQueue from './callbackQueue';\r\n\r\nimport {\r\n    updateDOMProperty\r\n} from './processDOMProperty';\r\n\r\nimport {\r\n    updateDOMEvents\r\n} from './processDOMEvents';\r\n\r\n//import processElement from './processElement';\r\n\r\nexport function patch(lastVNode, nextVNode, parentDom, callback, context, isSVG) {\r\n    var isUndefCallbacks = isNullOrUndef(callback);\r\n    callback = callback || new CallbackQueue();\r\n\r\n    if (lastVNode !== nextVNode) {\r\n        if (!isSameVNode(lastVNode, nextVNode)) {\r\n            replaceWithNewNode(\r\n                lastVNode,\r\n                nextVNode,\r\n                parentDom,\r\n                callback,\r\n                context,\r\n                isSVG\r\n            );\r\n        } else if (isElementVNode(lastVNode)) {\r\n            patchElement(lastVNode, nextVNode, parentDom, callback, context, isSVG);\r\n        } else if (isComponentVNode(lastVNode)) {\r\n            patchComponent(lastVNode, nextVNode, parentDom, callback, context, isSVG);\r\n        } else if (isTextVNode(lastVNode)) {\r\n            patchText(lastVNode, nextVNode);\r\n        } else if (isVoidVNode(lastVNode)) {\r\n            patchVoid(lastVNode, nextVNode);\r\n        }\r\n    }\r\n\r\n    if (isUndefCallbacks) {\r\n        callback.notifyAll();\r\n    }\r\n\r\n    return nextVNode;\r\n}\r\n\r\n\r\nfunction unmountChildren(children, dom) {\r\n    if (isVNode(children)) {\r\n        unmount(children, dom);\r\n    } else if (isArray(children)) {\r\n        for (let i = 0; i < children.length; i++) {\r\n            const child = children[i];\r\n\r\n            if (!isInvalid(child)) {\r\n                unmount(child, dom);\r\n            }\r\n        }\r\n    } else {\r\n        setTextContent(dom, '');\r\n    }\r\n}\r\n\r\nfunction patchElement(lastVNode, nextVNode, parentDom, callback, context, isSVG) {\r\n    const dom = lastVNode.dom;\r\n    const hooks = nextVNode.hooks || {};\r\n    const lastProps = lastVNode.props;\r\n    const nextProps = nextVNode.props;\r\n    const lastChildren = lastVNode.children;\r\n    const nextChildren = nextVNode.children;\r\n    const lastEvents = lastVNode.events;\r\n    const nextEvents = nextVNode.events;\r\n    const lastHtml = lastProps && lastProps.dangerouslySetInnerHTML && lastProps.dangerouslySetInnerHTML.__html;\r\n    const nextHtml = nextProps && nextProps.dangerouslySetInnerHTML && nextProps.dangerouslySetInnerHTML.__html;\r\n\r\n    nextVNode.dom = dom;\r\n\r\n    if (hooks.beforeUpdate) {\r\n        hooks.beforeUpdate(lastVNode, nextVNode);\r\n    }\r\n\r\n    let refsChanged = shouldUpdateRefs(lastVNode, nextVNode);\r\n    if (refsChanged) {\r\n        detachRef(lastVNode);\r\n    }\r\n\r\n    if (!isNullOrUndef(lastHtml) && isNullOrUndef(nextHtml)) {\r\n        dom.innerHTML = '';\r\n    }\r\n\r\n    if (lastChildren !== nextChildren) {\r\n        patchChildren(lastChildren, nextChildren, dom, callback, context, isSVG);\r\n    }\r\n\r\n    //processElement(dom, nextVNode);\r\n\r\n    updateDOMProperty(lastVNode.props, nextVNode.props, isSVG, nextVNode);\r\n    updateDOMEvents(lastVNode, nextVNode);\r\n\r\n    if (!isNull(nextVNode.ref)) {\r\n        callback.enqueue(() => attachRef(nextVNode));\r\n    }\r\n\r\n    if (hooks.update) {\r\n        callback.enqueue(() => hooks.update(nextVNode));\r\n    }\r\n\r\n}\r\n\r\nfunction patchChildren(lastChildren, nextChildren, dom, callback, context, isSVG) {\r\n    if (isInvalid(nextChildren)) {\r\n        unmountChildren(lastChildren, dom, callback);\r\n    } else if (isInvalid(lastChildren)) {\r\n        if (isArray(nextChildren)) {\r\n            mountArrayChildren(nextChildren, dom, callback, context, isSVG);\r\n        } else {\r\n            mount(nextChildren, dom, callback, context, isSVG);\r\n        }\r\n    } else if (!isArray(lastChildren) && !isArray(nextChildren)) {\r\n        patch(lastChildren, nextChildren, dom, callback, context, isSVG);\r\n    } else {\r\n        updateChildren(toArray(lastChildren), toArray(nextChildren), dom, callback, context, isSVG);\r\n    }\r\n}\r\n\r\nfunction createKeyToOldIdx(children, beginIdx, endIdx) {\r\n    var i, map = {},\r\n        key;\r\n    for (i = beginIdx; i <= endIdx; ++i) {\r\n        key = children[i].key;\r\n        if (!isNullOrUndef(key)) {\r\n            if (isDefined(map[key])) {\r\n                throwError('key must be unique.');\r\n            }\r\n            map[key] = i;\r\n        }\r\n    }\r\n    return map;\r\n}\r\n\r\nfunction updateChildren(oldCh, newCh, parentElm, callback, context, isSVG) {\r\n    var oldStartIdx = 0,\r\n        newStartIdx = 0;\r\n    var oldEndIdx = oldCh.length - 1;\r\n    var oldStartVnode = oldCh[0];\r\n    var oldEndVnode = oldCh[oldEndIdx];\r\n    var newEndIdx = newCh.length - 1;\r\n    var newStartVnode = newCh[0];\r\n    var newEndVnode = newCh[newEndIdx];\r\n    var oldKeyToIdx, idxInOld, elmToMove, before;\r\n\r\n    var newChilds = Array(newCh.length);\r\n\r\n    while (oldStartIdx <= oldEndIdx && newStartIdx <= newEndIdx) {\r\n        if (isUndefined(oldStartVnode)) {\r\n            oldStartVnode = oldCh[++oldStartIdx]; // Vnode has been moved left\r\n        } else if (isUndefined(oldEndVnode)) {\r\n            oldEndVnode = oldCh[--oldEndIdx];\r\n        } else if (isSameVNode(oldStartVnode, newStartVnode)) {\r\n            patch(oldStartVnode, newStartVnode, parentElm, callback, context, isSVG);\r\n            oldStartVnode = oldCh[++oldStartIdx];\r\n            newStartVnode = newCh[++newStartIdx];\r\n        } else if (isSameVNode(oldEndVnode, newEndVnode)) {\r\n            patch(oldEndVnode, newEndVnode, parentElm, callback, context, isSVG);\r\n            oldEndVnode = oldCh[--oldEndIdx];\r\n            newEndVnode = newCh[--newEndIdx];\r\n        } else if (isSameVNode(oldStartVnode, newEndVnode)) { // Vnode moved right\r\n            insertBefore(parentElm, oldStartVnode.dom, nextSibling(oldEndVnode.dom));\r\n            patch(oldStartVnode, newEndVnode, parentElm, callback, context, isSVG);\r\n            oldStartVnode = oldCh[++oldStartIdx];\r\n            newEndVnode = newCh[--newEndIdx];\r\n        } else if (isSameVNode(oldEndVnode, newStartVnode)) { // Vnode moved left\r\n            insertBefore(parentElm, oldEndVnode.dom, oldStartVnode.dom);\r\n            patch(oldEndVnode, newStartVnode, parentElm, callback, context, isSVG);\r\n            oldEndVnode = oldCh[--oldEndIdx];\r\n            newStartVnode = newCh[++newStartIdx];\r\n        } else {\r\n            if (isUndefined(oldKeyToIdx)) { oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx); }\r\n\r\n            idxInOld = oldKeyToIdx[newStartVnode.key];\r\n\r\n            if (isUndefined(idxInOld) || isUndefined(oldCh[idxInOld])) { // New element\r\n                var dom = mount(newCh[newStartIdx], null, callback, context, isSVG);\r\n                insertBefore(parentElm, dom, oldStartVnode.dom);\r\n                newStartVnode = newCh[++newStartIdx];\r\n            } else {\r\n                elmToMove = oldCh[idxInOld];\r\n                insertBefore(parentElm, elmToMove.dom, oldStartVnode.dom);\r\n                patch(elmToMove, newStartVnode, parentElm, callback, context, isSVG);\r\n                oldCh[idxInOld] = undefined;\r\n                newStartVnode = newCh[++newStartIdx];\r\n            }\r\n        }\r\n    }\r\n\r\n    if (oldStartIdx > oldEndIdx) { // New element\r\n        before = isUndefined(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].dom;\r\n        for (; newStartIdx <= newEndIdx; newStartIdx++) {\r\n            var dom = mount(newCh[newStartIdx], null, callback, context, isSVG);\r\n            insertBefore(parentElm, dom, before);\r\n        }\r\n    } else if (newStartIdx > newEndIdx) { // Remove element\r\n        for (; oldStartIdx <= oldEndIdx; oldStartIdx++) {\r\n\r\n            if (isDefined(oldCh[oldStartIdx])) {\r\n                unmount(oldCh[oldStartIdx], parentElm);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction patchText(lastVNode, nextVNode) {\r\n    const nextText = nextVNode.children;\r\n    const dom = lastVNode.dom;\r\n\r\n    nextVNode.dom = dom;\r\n\r\n    if (lastVNode.children !== nextText) {\r\n        dom.nodeValue = nextText;\r\n    }\r\n}\r\n\r\nfunction patchVoid(lastVNode, nextVNode) {\r\n    nextVNode.dom = lastVNode.dom;\r\n}\r\n\r\nfunction patchComponent(lastVNode, nextVNode, parentDom, callback, context, isSVG) {\r\n    const nextType = nextVNode.type;\r\n    const nextProps = nextVNode.props;\r\n    const isClass = isStatefulComponent(nextType);\r\n    const hooks = nextVNode.hooks || {};\r\n\r\n    if (isClass) {\r\n        const inst = lastVNode._instance;\r\n        const lastChildren = lastVNode.children;\r\n        const lastProps = inst.props;\r\n        const lastState = inst.state;\r\n        const lastContext = inst.context;\r\n        let nextChildren, childContext, shouldUpdate = false;\r\n\r\n        nextVNode.dom = lastVNode.dom;\r\n        nextVNode.children = lastChildren;\r\n        nextVNode._instance = inst;\r\n        inst._isSVG = isSVG;\r\n\r\n        nextChildren = inst._updateComponent(lastProps, nextProps, context);\r\n\r\n        childContext = inst.getChildContext();\r\n\r\n        if (!isNullOrUndef(childContext)) {\r\n            childContext = assign({}, context, childContext);\r\n        } else {\r\n            childContext = context;\r\n        }\r\n\r\n        if (nextChildren !== emptyObject) {\r\n            nextVNode.children = nextChildren;\r\n            normalizeComponentChildren(nextVNode);\r\n            nextChildren = nextVNode.children;\r\n            shouldUpdate = true;\r\n        }\r\n\r\n        inst._childContext = childContext;\r\n        inst._vNode = nextVNode;\r\n        //inst._renderedVNode = nextChildren;\r\n\r\n        if (shouldUpdate) {\r\n\r\n            if (hooks.beforeUpdate) {\r\n                hooks.beforeUpdate(lastVNode, nextVNode);\r\n            }\r\n\r\n            let refsChanged = shouldUpdateRefs(lastVNode, nextVNode);\r\n            if (refsChanged) {\r\n                detachRef(lastVNode);\r\n            }\r\n\r\n            patch(lastChildren, nextChildren, parentDom, callback, childContext, isSVG);\r\n            nextVNode.dom = nextChildren.dom;\r\n\r\n            if (!isNull(nextVNode.ref)) {\r\n                callback.enqueue(() => attachRef(nextVNode));\r\n            }\r\n\r\n            if (inst.componentDidUpdate) {\r\n                callback.enqueue(() => inst.componentDidUpdate(lastProps, lastState, lastContext, nextVNode.dom));\r\n            }\r\n\r\n            if (!isNullOrUndef(hooks.update)) {\r\n                callback.enqueue(() => hooks.update(nextVNode));\r\n            }\r\n        }\r\n\r\n        if (inst._pendingCallbacks) {\r\n            callback.enqueue(() => inst._processPendingCallbacks());\r\n        }\r\n    } else {\r\n        let shouldUpdate = true;\r\n        const lastProps = lastVNode.props;\r\n        const lastChildren = lastVNode.children;\r\n        let nextChildren = lastChildren;\r\n\r\n        nextVNode.dom = lastVNode.dom;\r\n        nextVNode.children = nextChildren;\r\n\r\n        if (!isNullOrUndef(nextProps.onComponentShouldUpdate)) {\r\n            shouldUpdate = nextProps.onComponentShouldUpdate(lastProps, nextProps, context);\r\n        }\r\n\r\n        if (shouldUpdate !== false) {\r\n            let refsChanged = shouldUpdateRefs(lastVNode, nextVNode);\r\n            if (refsChanged) {\r\n                detachRef(lastVNode);\r\n            }\r\n\r\n            if (!isNullOrUndef(nextProps.onComponentWillUpdate)) {\r\n                nextProps.onComponentWillUpdate(lastProps, nextProps, nextVNode);\r\n            }\r\n            nextVNode.children = nextType(nextProps, context);\r\n\r\n            normalizeComponentChildren(nextVNode);\r\n\r\n            nextChildren = nextVNode.children;\r\n\r\n            if (hooks.beforeUpdate) {\r\n                hooks.beforeUpdate(lastVNode, nextVNode);\r\n            }\r\n\r\n            patch(lastChildren, nextChildren, parentDom, callback, context, isSVG);\r\n            nextVNode.dom = nextChildren.dom;\r\n\r\n            if (!isNull(nextVNode.ref)) {\r\n                callback.enqueue(() => attachRef(nextVNode));\r\n            }\r\n\r\n            if (!isNullOrUndef(nextProps.onComponentDidUpdate)) {\r\n                callback.enqueue(() => nextProps.onComponentDidUpdate(nextVNode));\r\n            }\r\n\r\n            if (!isNullOrUndef(hooks.update)) {\r\n                callback.enqueue(() => hooks.update(nextVNode));\r\n            }\r\n        }\r\n    }\r\n}","'use strict';\r\nimport {\r\n    warning,\r\n    throwError,\r\n    isDOM,\r\n    assign,\r\n    isVNode,\r\n    isInvalid\r\n} from './shared';\r\n\r\nimport {\r\n    mount\r\n} from './mount';\r\n\r\nimport {\r\n    unmount\r\n} from './unmount';\r\n\r\nimport {\r\n    patch\r\n} from './patch';\r\n\r\nexport function _patch(lastVNode, nextVNode) {\r\n    if (!isInvalid(lastVNode)) {\r\n        if (isDOM(lastVNode)) {\r\n            render(nextVNode, lastVNode);\r\n        } else if (isVNode(lastVNode) && isVNode(nextVNode)) {\r\n            if (lastVNode.dom) {\r\n                patch(lastVNode, nextVNode);\r\n                if (lastVNode.parentVNode) {\r\n                    assign(lastVNode, nextVNode);\r\n                }\r\n            } else {\r\n                throwError('patch error vNode');\r\n            }\r\n        }\r\n\r\n        return nextVNode;\r\n    }\r\n}\r\n\r\nexport function render(vNode, parentDom) {\r\n    if (document.body === parentDom) {\r\n        warning('you cannot render() to the \"document.body\". Use an empty element as a container instead.');\r\n    }\r\n\r\n    const lastVnode = parentDom.__NeactRootNode;\r\n\r\n    if (!lastVnode) {\r\n        if (!isInvalid(vNode) && isVNode(vNode)) {\r\n            mount(vNode, parentDom, null, {});\r\n            parentDom.__NeactRootNode = vNode;\r\n            return vNode._instance || vNode.dom;\r\n        } else {\r\n            throwError('isInvalid VNode');\r\n        }\r\n    } else {\r\n        if (isInvalid(vNode)) {\r\n            unmount(lastVnode, parentDom);\r\n            parentDom.__NeactRootNode = null;\r\n            delete parentDom.__NeactRootNode;\r\n        } else if (isVNode(vNode)) {\r\n            patch(lastVnode, vNode);\r\n            parentDom.__NeactRootNode = vNode;\r\n            return vNode._instance || vNode.dom;\r\n        } else {\r\n            throwError('isInvalid VNode');\r\n        }\r\n    }\r\n}\r\n\r\nexport function unmountComponentAtNode(dom) {\r\n    if (dom.__NeactRootNode) {\r\n        unmount(dom.__NeactRootNode, dom);\r\n        delete dom.__NeactRootNode;\r\n    }\r\n}\r\n\r\nexport function findDOMNode(vNode) {\r\n    if (!isInvalid(isVNode)) {\r\n        if (isVNode(vNode)) {\r\n            return vNode.dom;\r\n        } else if (vNode._vNode) {\r\n            return vNode._vNode.dom;\r\n        }\r\n    }\r\n    return null;\r\n}","'use strict';\r\n\r\nimport { isObject } from './shared';\r\n\r\nvar hasOwnProperty = Object.prototype.hasOwnProperty,\r\n    nativeKeys = Object.keys;\r\n\r\nfunction keys(obj) {\r\n    if (nativeKeys) {\r\n        return nativeKeys(obj);\r\n    }\r\n\r\n    var keys = [];\r\n\r\n    for (var key in obj) {\r\n        keys.push(key);\r\n    }\r\n\r\n    return keys;\r\n}\r\n\r\n/**\r\n * inlined Object.is polyfill to avoid requiring consumers ship their own\r\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\r\n */\r\nfunction is(x, y) {\r\n    // SameValue algorithm\r\n    if (x === y) {\r\n        // Steps 1-5, 7-10\r\n        // Steps 6.b-6.e: +0 != -0\r\n        // Added the nonzero y check to make Flow happy, but it is redundant\r\n        return x !== 0 || y !== 0 || 1 / x === 1 / y;\r\n    } else {\r\n        // Step 6.a: NaN == NaN\r\n        return x !== x && y !== y;\r\n    }\r\n}\r\n\r\n/**\r\n * Performs equality by iterating through keys on an object and returning false\r\n * when any key has values which are not strictly equal between the arguments.\r\n * Returns true when the values of all keys are strictly equal.\r\n */\r\nexport default function shallowEqual(objA, objB) {\r\n    if (is(objA, objB)) {\r\n        return true;\r\n    }\r\n\r\n    if (!isObject(objA) || objA === null || !isObject(objB) || objB === null) {\r\n        return false;\r\n    }\r\n\r\n    var keysA = keys(objA);\r\n    var keysB = keys(objB);\r\n\r\n    if (keysA.length !== keysB.length) {\r\n        return false;\r\n    }\r\n\r\n    // Test for A's keys different from B.\r\n    for (var i = 0; i < keysA.length; i++) {\r\n        if (!hasOwnProperty.call(objB, keysA[i]) || !is(objA[keysA[i]], objB[keysA[i]])) {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    return true;\r\n}","'use strict';\r\n\r\nimport {\r\n    isFunction,\r\n    isNullOrUndef,\r\n    isString,\r\n    assign,\r\n    throwError,\r\n    warning,\r\n    emptyObject\r\n} from './shared';\r\n\r\nimport CurrentOwner from './currentOwner';\r\n\r\nimport {\r\n    patch\r\n} from './patch';\r\n\r\nimport {\r\n    normalizeComponentChildren\r\n} from './mount';\r\n\r\nimport shallowEqual from './shallowEqual';\r\n\r\nfunction updateParentComponentVNodes(vNode, dom) {\r\n    const parentVNode = vNode.parentVNode;\r\n\r\n    if (parentVNode && !isString(parentVNode.type)) {\r\n        parentVNode.dom = dom;\r\n        updateParentComponentVNodes(parentVNode, dom);\r\n    }\r\n}\r\n\r\nfunction enqueueSetState(component, newState, callback, sync = false) {\r\n    if (!isNullOrUndef(newState)) {\r\n        let queue = component._pendingStateQueue || (component._pendingStateQueue = []);\r\n        queue.push(newState);\r\n    }\r\n\r\n    if (callback) {\r\n        let queue = component._pendingCallbacks || (component._pendingCallbacks = []);\r\n        queue.push(callback);\r\n    }\r\n\r\n    if (!component._pendingSetState || sync) {\r\n        applyState(component, false, callback);\r\n    }\r\n}\r\n\r\nfunction applyState(inst, callback) {\r\n    const vNode = inst._vNode;\r\n    const parentDom = vNode.dom.parentNode;\r\n    const hooks = vNode.hooks || {};\r\n    const state = inst.state;\r\n    const lastChildren = vNode.children;\r\n    const props = inst.props;\r\n    const context = inst.context;\r\n    let childContext = inst.getChildContext();\r\n    let nextChildren, shouldUpdate = false;\r\n\r\n    nextChildren = inst._updateComponent(props, props, context);\r\n\r\n    if (nextChildren !== emptyObject) {\r\n        vNode.children = nextChildren;\r\n        normalizeComponentChildren(vNode);\r\n        nextChildren = vNode.children;\r\n        shouldUpdate = true;\r\n    }\r\n\r\n    if (shouldUpdate) {\r\n\r\n        if (hooks.beforeUpdate) {\r\n            hooks.beforeUpdate(vNode, vNode);\r\n        }\r\n\r\n        if (!isNullOrUndef(childContext)) {\r\n            childContext = assign({}, context, inst._childContext, childContext);\r\n        } else {\r\n            childContext = assign({}, context, inst._childContext);\r\n        }\r\n\r\n        let callbacks = inst._callbacks;\r\n\r\n        patch(lastChildren, nextChildren, parentDom, callbacks, childContext, inst._isSVG);\r\n\r\n        const dom = vNode.dom = nextChildren.dom;\r\n\r\n        updateParentComponentVNodes(vNode, dom);\r\n\r\n        callbacks.notifyAll();\r\n\r\n        if (inst.componentDidUpdate) {\r\n            inst.componentDidUpdate(props, state);\r\n        }\r\n\r\n        if (!isNullOrUndef(hooks.update)) {\r\n            hooks.update(vNode);\r\n        }\r\n    }\r\n\r\n    if (inst._pendingCallbacks) {\r\n        inst._processPendingCallbacks();\r\n    }\r\n\r\n    if (isFunction(callback)) {\r\n        callback();\r\n    }\r\n}\r\n\r\nexport default function Component(props, context) {\r\n    this.state = {};\r\n    this.refs = {};\r\n    this.props = props || {};\r\n    this.context = context || {};\r\n}\r\n\r\nassign(Component.prototype, {\r\n    _vNode: null,\r\n    _unmounted: true,\r\n    _callbacks: null,\r\n    _isSVG: false,\r\n    _childContext: null,\r\n    _pendingStateQueue: null,\r\n    _pendingCallbacks: null,\r\n    _pendingReplaceState: false,\r\n    _pendingForceUpdate: false,\r\n    _pendingSetState: false,\r\n    _disabledSetState: false,\r\n    _ignoreSetState: false,\r\n    //_renderedVNode: null,\r\n\r\n    render() {},\r\n\r\n    forceUpdate(callback) {\r\n        if (this._unmounted) {\r\n            return;\r\n        }\r\n        this._pendingForceUpdate = true;\r\n\r\n        enqueueSetState(this, null, callback);\r\n    },\r\n\r\n    setState(newState, callback) {\r\n        if (this._unmounted) {\r\n            return;\r\n        }\r\n        if (!this._disabledSetState) {\r\n            if (!this._ignoreSetState) {\r\n                enqueueSetState(this, newState, callback);\r\n            } else {\r\n                warning('ignore update state via setState(...) in shouldComponentUpdate() or render().');\r\n            }\r\n        } else {\r\n            throwError('cannot update state via setState(...) in componentWillUpdate().');\r\n        }\r\n    },\r\n\r\n    replaceState(newState, callback) {\r\n        if (this._unmounted) {\r\n            return;\r\n        }\r\n        this._pendingReplaceState = true;\r\n        this.setState(newState, callback);\r\n    },\r\n\r\n    setStateSync(newState, callback) {\r\n        if (this._unmounted) {\r\n            return;\r\n        }\r\n        if (!this._disabledSetState) {\r\n            if (!this._ignoreSetState) {\r\n                enqueueSetState(this, newState, callback, true);\r\n            } else {\r\n                warning('ignore update state via setState(...) in shouldComponentUpdate() or render().');\r\n            }\r\n        } else {\r\n            throwError('cannot update state via setState(...) in componentWillUpdate().');\r\n        }\r\n    },\r\n\r\n    getChildContext() {},\r\n\r\n    _updateComponent(prevProps, nextProps, context) {\r\n        const inst = this;\r\n        if (this._unmounted === true) {\r\n            throwError();\r\n        }\r\n\r\n        let willReceive = false;\r\n        let children = emptyObject;\r\n        let shouldUpdate = true;\r\n\r\n        if (prevProps !== nextProps) {\r\n            willReceive = true;\r\n        }\r\n\r\n        if (willReceive && inst.componentWillReceiveProps) {\r\n            inst._pendingSetState = true;\r\n            inst.componentWillReceiveProps(nextProps, context);\r\n            inst._pendingSetState = false;\r\n        }\r\n\r\n        let prevState = inst.state;\r\n        let nextState = inst._processPendingState(nextProps, context);\r\n\r\n        inst._ignoreSetState = true;\r\n\r\n        if (!inst._pendingForceUpdate) {\r\n            if (inst.shouldComponentUpdate) {\r\n                shouldUpdate = inst.shouldComponentUpdate(nextProps, nextState, context);\r\n            } else {\r\n                if (inst._isPureComponent) {\r\n                    shouldUpdate = !shallowEqual(prevProps, nextProps) || !shallowEqual(inst.state, nextState);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (shouldUpdate !== false) {\r\n            inst._pendingForceUpdate = false;\r\n\r\n            if (inst.componentWillUpdate) {\r\n                inst._disabledSetState = true;\r\n                inst.componentWillUpdate(nextProps, nextState, context);\r\n                inst._disabledSetState = false;\r\n            }\r\n            inst.props = nextProps;\r\n            inst.state = nextState;\r\n            inst.context = context;\r\n            CurrentOwner.current = inst;\r\n            children = inst.render(inst.props, inst.state, inst.context);\r\n            CurrentOwner.current = null;\r\n        }\r\n\r\n        inst._ignoreSetState = false;\r\n\r\n        return children;\r\n    },\r\n\r\n    _processPendingState(props, context) {\r\n        var inst = this;\r\n        var queue = this._pendingStateQueue;\r\n        var replace = this._pendingReplaceState;\r\n        this._pendingReplaceState = false;\r\n        this._pendingStateQueue = null;\r\n\r\n        if (!queue) {\r\n            return inst.state;\r\n        }\r\n\r\n        if (replace && queue.length === 1) {\r\n            return queue[0];\r\n        }\r\n\r\n        var nextState = assign({}, replace ? queue[0] : inst.state);\r\n        for (var i = replace ? 1 : 0; i < queue.length; i++) {\r\n            var partial = queue[i];\r\n            assign(nextState, typeof partial === 'function' ? partial.call(inst, nextState, props, context) : partial);\r\n        }\r\n\r\n        return nextState;\r\n    },\r\n    _processPendingCallbacks() {\r\n        const callbacks = this._pendingCallbacks;\r\n        this._pendingCallbacks = null;\r\n        if (callbacks) {\r\n            for (let j = 0; j < callbacks.length; j++) {\r\n                let cb = callbacks[j];\r\n                if (typeof cb === 'function') {\r\n                    cb.call(this);\r\n                }\r\n            }\r\n        }\r\n    }\r\n});","'use strict';\r\nimport {\r\n    isArray,\r\n    isObject,\r\n    inherits\r\n} from './shared';\r\n\r\nimport Component from './component';\r\n\r\nexport function createClass(spec) {\r\n    function Constructor(props, context) {\r\n        this.state = {};\r\n        this.refs = {};\r\n        this.props = props || {};\r\n        this.context = context || {};\r\n\r\n        if (this.construct) {\r\n            this.construct(props, context);\r\n            return;\r\n        }\r\n\r\n        var initialState = this.getInitialState ? this.getInitialState(this.props, this.context) : null;\r\n\r\n        if (!(isObject(initialState) && !isArray(initialState))) {\r\n            new TypeError('getInitialState(): must return an object or null');\r\n        }\r\n\r\n        this.state = initialState;\r\n    }\r\n\r\n    inherits(Constructor, Component, spec);\r\n\r\n    Constructor.prototype.constructor = Constructor;\r\n\r\n    if (spec.getDefaultProps) {\r\n        Constructor.defaultProps = spec.getDefaultProps();\r\n    }\r\n\r\n    if (!spec.render) {\r\n        throw new TypeError('createClass(...): Class specification must implement a `render` method.');\r\n    }\r\n\r\n    return Constructor;\r\n}","'use strict';\r\n\r\n\r\nimport Component from './component';\r\n\r\nexport default function PureComponent(props, context) {\r\n    this.state = {};\r\n    this.refs = {};\r\n    this.props = props || {};\r\n    this.context = context || {};\r\n}\r\n\r\nfunction ComponentDummy() {}\r\nComponentDummy.prototype = Component.prototype;\r\nPureComponent.prototype = new ComponentDummy();\r\nPureComponent.prototype.constructor = PureComponent;\r\n\r\nPureComponent.prototype._isPureComponent = true;","'use strict';\r\n\r\nimport {\r\n    render,\r\n    findDOMNode,\r\n    unmountComponentAtNode,\r\n    _patch as patch\r\n} from './render';\r\n\r\nimport processDOMPropertyHooks from './processDOMPropertyHooks';\r\n\r\nimport {\r\n    createVNode,\r\n    createTextVNode\r\n} from './vnode';\r\n\r\nimport {\r\n    createElement,\r\n    cloneElement\r\n} from './createElement';\r\n\r\nimport {\r\n    createClass\r\n} from './createClass';\r\n\r\nimport Component from './component';\r\nimport PureComponent from './pureComponent';\r\n\r\nimport {\r\n    isVNode as isValidElement,\r\n    isNullOrUndef,\r\n    map,\r\n    each,\r\n    inherits,\r\n    bind,\r\n    assign,\r\n    toArray,\r\n    flatten,\r\n    filter\r\n} from './shared';\r\n\r\nvar utils = {\r\n    map,\r\n    each,\r\n    inherits,\r\n    bind,\r\n    assign,\r\n    toArray,\r\n    flatten,\r\n    filter\r\n};\r\n\r\nconst Children = {\r\n    map(obj, cb, ctx) {\r\n        if (isNullOrUndef(obj)) return;\r\n        return map(toArray(obj), cb, ctx);\r\n    },\r\n    forEach(obj, cb, ctx) {\r\n        if (isNullOrUndef(obj)) return;\r\n        each(toArray(obj), cb, ctx);\r\n    },\r\n    count(children) {\r\n        return toArray(children).length;\r\n    },\r\n    only(children) {\r\n        children = Children.toArray(children);\r\n        if (children.length !== 1) { throw new Error('Children.only() expects only one child.'); }\r\n        return children[0];\r\n    },\r\n    toArray\r\n};\r\n\r\nexport {\r\n    render,\r\n    patch,\r\n    findDOMNode,\r\n    unmountComponentAtNode,\r\n    Children,\r\n    createElement,\r\n    createVNode,\r\n    createTextVNode,\r\n    cloneElement,\r\n    isValidElement,\r\n    processDOMPropertyHooks,\r\n    createClass,\r\n    Component,\r\n    PureComponent,\r\n    utils\r\n};"],"names":["ArrayProto","Array","prototype","nativeForEach","forEach","nativeMap","map","nativeFilter","filter","objToString","Object","toString","emptyObject","isArray","s","call","toArray","obj","isUndefined","undefined","isStatefulComponent","o","render","isString","isNumber","isTrue","isNull","isStringOrNumber","isNullOrUndef","isInvalid","isFunction","isAttrAnEvent","attr","length","isDefined","isObject","isDOM","nodeType","nodeName","isVNode","VNode","$$isVNode","isSameVNode","vnode1","vnode2","isSame","key","type","isVoidVNode","vNode","isEmptyVNode","isTextVNode","isElementVNode","isComponentVNode","throwError","message","Error","warning","msg","console","warn","inherits","cls","base","proto","F","prop","constructor","each","cb","context","i","len","hasOwnProperty","result","push","bind","func","apply","arguments","flatten","input","output","idx","value","j","assign","target","TypeError","index","source","nextKey","createEmptyVNode","createVNode","createVoidVNode","emptyVNode","createTextVNode","text","props","children","events","hooks","ref","isSVG","owner","noNormalise","normalize","isComponent","normalizeChildren","parentVNode","normalizeVNodes","nodes","newNodes","n","CurrentOwner","createElement","config","_children","toLowerCase","defaultProps","dangerouslySetInnerHTML","current","cloneElement","element","child","_owner","newChildren","oldChildren","concat","CallbackQueue","listeners","enqueue","callback","notifyAll","cbs","shouldUpdateRefs","lastVNode","nextVNode","lastRef","nextRef","lastOwner","nextOwner","detachRef","refs","attachRef","_instance","dom","ename","replace","invokeHandler","handler","vnode","event","el","args","slice","handleEvent","name","on","createListener","e","createDOMEvents","updateDOMEvents","oldVnode","oldOn","oldListener","_listener","oldElm","elm","listener","destroyDOMEvents","unmountVoidOrText","parentDom","unmountChildren","unmountElement","destroy","unmountComponent","inst","isClass","_unmounted","_ignoreSetState","componentWillUnmount","componentDidUnmount","onComponentWillUnmount","onComponentDidUnmount","unmount","isUndefCallbacks","svgNS","appendChild","insertBefore","parentNode","newNode","referenceNode","nextSibling","node","removeChild","documentCreateElement","tag","document","createElementNS","setTextContent","data","textContent","innerText","replaceWithNewNode","lastNode","nextNode","mount","replaceChild","nextDom","lastDom","addEventListener","fn","attachEvent","attachEventName","removeEventListener","detachEvent","createComponentInstance","initialState","state","_isSVG","childContext","getChildContext","_childContext","processDOMPropertyHooks","canUseDOM","window","ieVersion","version","div","iElems","getElementsByTagName","innerHTML","constructDefaults","string","object","r","split","xlinkNS","xmlNS","strictProps","booleanProps","namespaces","isUnitlessNumber","skipProps","dehyphenProps","probablyKebabProps","kebabize","str","smallLetter","largeLetter","hasShorthandPropertyBug","styleFloatAccessor","tempStyle","style","font","documentElement","cssFloat","shorthandPropertyExpansions","raf","requestAnimationFrame","setTimeout","nextFrame","setNextFrame","val","lastValue","nextValue","cssText","cur","domStyle","oldStyle","oldHasDel","expansion","individualStyleName","dangerousStyleValue","delayed","isEmpty","isNonNumeric","isNaN","trim","removeAttribute","setAttribute","className","lastHtml","__html","nextHtml","dehyphenProp","match","ns","setAttributeNS","propertyHooks","processDOMStyle","processDOMAttr","createDOMProperty","updateDOMProperty","lastProps","nextProps","hook","mountElement","mountText","mountComponent","mountVoid","createTextNode","createComment","beforeCreate","create","mountArrayChildren","_pendingSetState","componentWillMount","_pendingStateQueue","_processPendingState","_vNode","_callbacks","componentDidMount","_pendingCallbacks","_processPendingCallbacks","onComponentWillMount","onComponentDidMount","normalizeComponentChildren","patch","patchElement","lastChildren","nextChildren","lastEvents","nextEvents","beforeUpdate","refsChanged","update","patchChildren","createKeyToOldIdx","beginIdx","endIdx","updateChildren","oldCh","newCh","parentElm","oldStartIdx","newStartIdx","oldEndIdx","oldStartVnode","oldEndVnode","newEndIdx","newStartVnode","newEndVnode","oldKeyToIdx","idxInOld","elmToMove","before","newChilds","patchText","nextText","nodeValue","patchVoid","patchComponent","nextType","lastState","lastContext","shouldUpdate","_updateComponent","componentDidUpdate","onComponentShouldUpdate","onComponentWillUpdate","onComponentDidUpdate","_patch","body","lastVnode","__NeactRootNode","unmountComponentAtNode","findDOMNode","nativeKeys","keys","is","x","y","shallowEqual","objA","objB","keysA","keysB","updateParentComponentVNodes","enqueueSetState","component","newState","sync","queue","applyState","callbacks","Component","_pendingForceUpdate","_disabledSetState","_pendingReplaceState","setState","prevProps","willReceive","componentWillReceiveProps","prevState","nextState","shouldComponentUpdate","_isPureComponent","componentWillUpdate","partial","createClass","spec","Constructor","construct","getInitialState","getDefaultProps","PureComponent","ComponentDummy","utils","Children","ctx"],"mappings":"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"}