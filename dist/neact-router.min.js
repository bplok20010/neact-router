!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("neact")):"function"==typeof define&&define.amd?define(["exports","neact"],n):n(t.NeactRouter=t.NeactRouter||{},t.Neact)}(this,function(t,n){"use strict";function e(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function o(t){return void 0===t}function r(t){return null===t}function i(t){return o(t)||r(t)}function a(t){return"object"===(void 0===t?"undefined":R(t))}function c(t,n){var e,o=[],r=0,i=0,a="",c=n&&n.delimiter||"/";while(null!=(e=Tt.exec(t))){var s=e[0],u=e[1],l=e.index;if(a+=t.slice(i,l),i=l+s.length,u)a+=u[1];else{var h=t[i],d=e[2],v=e[3],m=e[4],y=e[5],g=e[6],b=e[7];a&&(o.push(a),a="");var w=null!=d&&null!=h&&h!==d,x="+"===g||"*"===g,O="?"===g||"*"===g,P=e[2]||c,k=m||y;o.push({name:v||r++,prefix:d||"",delimiter:P,optional:O,repeat:x,partial:w,asterisk:!!b,pattern:k?p(k):b?".*":"[^"+f(P)+"]+?"})}}return i<t.length&&(a+=t.substr(i)),a&&o.push(a),o}function s(t,n){return h(c(t,n))}function u(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function l(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function h(t){for(var n=Array(t.length),e=0;e<t.length;e++)"object"===R(t[e])&&(n[e]=RegExp("^(?:"+t[e].pattern+")$"));return function(e,o){for(var r="",i=e||{},a=o||{},c=a.pretty?u:encodeURIComponent,s=0;s<t.length;s++){var h=t[s];if("string"!=typeof h){var f,p=i[h.name];if(null==p){if(h.optional){h.partial&&(r+=h.prefix);continue}throw new TypeError('Expected "'+h.name+'" to be defined')}if(Et(p)){if(!h.repeat)throw new TypeError('Expected "'+h.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(h.optional)continue;throw new TypeError('Expected "'+h.name+'" to not be empty')}for(var d=0;d<p.length;d++){if(f=c(p[d]),!n[s].test(f))throw new TypeError('Expected all "'+h.name+'" to match "'+h.pattern+'", but received `'+JSON.stringify(f)+"`");r+=(0===d?h.prefix:h.delimiter)+f}}else{if(f=h.asterisk?l(p):c(p),!n[s].test(f))throw new TypeError('Expected "'+h.name+'" to match "'+h.pattern+'", but received "'+f+'"');r+=h.prefix+f}}else r+=h}return r}}function f(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function p(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function d(t,n){return t.keys=n,t}function v(t){return t.sensitive?"":"i"}function m(t,n){var e=t.source.match(/\((?!\?)/g);if(e)for(var o=0;o<e.length;o++)n.push({name:o,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return d(t,n)}function y(t,n,e){for(var o=[],r=0;r<t.length;r++)o.push(w(t[r],n,e).source);return d(RegExp("(?:"+o.join("|")+")",v(e)),n)}function g(t,n,e){return b(c(t,e),n,e)}function b(t,n,e){Et(n)||(e=n||e,n=[]),e=e||{};for(var o=e.strict,r=e.end!==!1,i="",a=0;a<t.length;a++){var c=t[a];if("string"==typeof c)i+=f(c);else{var s=f(c.prefix),u="(?:"+c.pattern+")";n.push(c),c.repeat&&(u+="(?:"+s+u+")*"),u=c.optional?c.partial?s+"("+u+")?":"(?:"+s+"("+u+"))?":s+"("+u+")",i+=u}}var l=f(e.delimiter||"/"),h=i.slice(-l.length)===l;return o||(i=(h?i.slice(0,-l.length):i)+"(?:"+l+"(?=$))?"),i+=r?"$":o&&h?"":"(?="+l+"|$)",d(RegExp("^"+i,v(e)),n)}function w(t,n,e){return Et(n)||(e=n||e,n=[]),e=e||{},t instanceof RegExp?m(t,n):Et(t)?y(t,n,e):g(t,n,e)}n="default"in n?n.default:n;var x=function(){},O=x,P=function(t,n,e,o,r,i,a,c){if(!t){var s;if(void 0===n)s=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[e,o,r,i,a,c],l=0;s=Error(n.replace(/%s/g,function(){return u[l++]})),s.name="Invariant Violation"}throw s.framesToPop=1,s}},k=P,E=function(t){return"/"===t.charAt(0)},S=function(t,n){for(var e=n,o=e+1,r=t.length;o<r;e+=1,o+=1)t[e]=t[o];t.pop()},C=function(t){var n=arguments.length<=1||void 0===arguments[1]?"":arguments[1],e=t&&t.split("/")||[],o=n&&n.split("/")||[],r=t&&E(t),i=n&&E(n),a=r||i;if(t&&E(t)?o=e:e.length&&(o.pop(),o=o.concat(e)),!o.length)return"/";var c=void 0;if(o.length){var s=o[o.length-1];c="."===s||".."===s||""===s}else c=!1;for(var u=0,l=o.length;l>=0;l--){var h=o[l];"."===h?S(o,l):".."===h?(S(o,l),u++):u&&(S(o,l),u--)}if(!a)for(;u--;u)o.unshift("..");!a||""===o[0]||o[0]&&E(o[0])||o.unshift("");var f=o.join("/");return c&&"/"!==f.substr(-1)&&(f+="/"),f},j=C,R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},T=function(t,n){var e={};for(var o in t)n.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},H=function(t){return Array.isArray(t)?t:Array.from(t)},L=function(t,n){return n={exports:{}},t(n,n.exports),n.exports}(function(t,n){n.__esModule=!0;var e="function"==typeof Symbol&&"symbol"===R(Symbol.iterator)?function(t){return void 0===t?"undefined":R(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":R(t)};n.default=function t(n,o){if(n===o)return!0;if(null==n||null==o)return!1;if(Array.isArray(n))return!(!Array.isArray(o)||n.length!==o.length)&&n.every(function(n,e){return t(n,o[e])});var r=void 0===n?"undefined":e(n);if(r!==(void 0===o?"undefined":e(o)))return!1;if("object"===r){var i=n.valueOf(),a=o.valueOf();if(i!==n||a!==o)return t(i,a);var c=Object.keys(n);return c.length===Object.keys(o).length&&c.every(function(e){return t(n[e],o[e])})}return!1}}),M=function(t){return t&&t.__esModule?t.default:t}(L),U=function(t){return"/"===t.charAt(0)?t:"/"+t},N=function(t){return"/"===t.charAt(0)?t.substr(1):t},Y=function(t,n){return 0===t.indexOf(n)?t.substr(n.length):t},B=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},I=function(t){var n=t||"/",e="",o="",r=n.indexOf("#");r!==-1&&(o=n.substr(r),n=n.substr(0,r));var i=n.indexOf("?");return i!==-1&&(e=n.substr(i),n=n.substr(0,i)),n=decodeURI(n),{pathname:n,search:"?"===e?"":e,hash:"#"===o?"":o}},W=function(t){var n=t.pathname,e=t.search,o=t.hash,r=encodeURI(n||"/");return e&&"?"!==e&&(r+="?"===e.charAt(0)?e:"?"+e),o&&"#"!==o&&(r+="#"===o.charAt(0)?o:"#"+o),r},q=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},$=function(t,n,e,o){var r=void 0;return"string"==typeof t?(r=I(t),r.state=n):(r=q({},t),void 0===r.pathname&&(r.pathname=""),r.search?"?"!==r.search.charAt(0)&&(r.search="?"+r.search):r.search="",r.hash?"#"!==r.hash.charAt(0)&&(r.hash="#"+r.hash):r.hash="",void 0!==n&&void 0===r.state&&(r.state=n)),r.key=e,o&&(r.pathname?"/"!==r.pathname.charAt(0)&&(r.pathname=j(r.pathname,o.pathname)):r.pathname=o.pathname),r},F=function(t,n){return t.pathname===n.pathname&&t.search===n.search&&t.hash===n.hash&&t.key===n.key&&M(t.state,n.state)},_=function(){var t=null,n=function(n){return O(null==t,"A history supports only one prompt at a time"),t=n,function(){t===n&&(t=null)}},e=function(n,e,o,r){if(null!=t){var i="function"==typeof t?t(n,e):t;"string"==typeof i?"function"==typeof o?o(i,r):(O(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),r(!0)):r(i!==!1)}else r(!0)},o=[];return{setPrompt:n,confirmTransitionTo:e,appendListener:function(t){var n=!0,e=function(){n&&t.apply(void 0,arguments)};return o.push(e),function(){n=!1,o=o.filter(function(t){return t!==e})}},notifyListeners:function(){for(var t=arguments.length,n=Array(t),e=0;e<t;e++)n[e]=arguments[e];o.forEach(function(t){return t.apply(void 0,n)})}}},D=!("undefined"==typeof window||!window.document||!window.document.createElement),K=function(t,n,e){return t.addEventListener?t.addEventListener(n,e,!1):t.attachEvent("on"+n,e)},J=function(t,n,e){return t.removeEventListener?t.removeEventListener(n,e,!1):t.detachEvent("on"+n,e)},V=function(t,n){return n(window.confirm(t))},z=function(){var t=window.navigator.userAgent;return(t.indexOf("Android 2.")===-1&&t.indexOf("Android 4.0")===-1||t.indexOf("Mobile Safari")===-1||t.indexOf("Chrome")!==-1||t.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)},G=function(){return window.navigator.userAgent.indexOf("Trident")===-1},Q=function(){return window.navigator.userAgent.indexOf("Firefox")===-1},X=function(t){return void 0===t.state&&navigator.userAgent.indexOf("CriOS")===-1},Z="function"==typeof Symbol&&"symbol"===R(Symbol.iterator)?function(t){return void 0===t?"undefined":R(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":R(t)},tt=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},nt=function(){try{return window.history.state||{}}catch(t){return{}}},et=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};k(D,"Browser history needs a DOM");var n=window.history,e=z(),o=!G(),r=t.forceRefresh,i=void 0!==r&&r,a=t.getUserConfirmation,c=void 0===a?V:a,s=t.keyLength,u=void 0===s?6:s,l=t.basename?B(U(t.basename)):"",h=function(t){var n=t||{},e=n.key,o=n.state,r=window.location,i=r.pathname,a=r.search,c=r.hash,s=i+a+c;return l&&(s=Y(s,l)),tt({},I(s),{state:o,key:e})},f=function(){return Math.random().toString(36).substr(2,u)},p=_(),d=function(t){tt(N,t),N.length=n.length,p.notifyListeners(N.location,N.action)},v=function(t){X(t)||g(h(t.state))},m=function(){g(h(nt()))},y=!1,g=function(t){if(y)y=!1,d();else{p.confirmTransitionTo(t,"POP",c,function(n){n?d({action:"POP",location:t}):b(t)})}},b=function(t){var n=N.location,e=x.indexOf(n.key);e===-1&&(e=0);var o=x.indexOf(t.key);o===-1&&(o=0);var r=e-o;r&&(y=!0,C(r))},w=h(nt()),x=[w.key],P=function(t){return l+W(t)},E=function(t,o){O(!("object"===(void 0===t?"undefined":Z(t))&&void 0!==t.state&&void 0!==o),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r=$(t,o,f(),N.location);p.confirmTransitionTo(r,"PUSH",c,function(t){if(t){var o=P(r),a=r.key,c=r.state;if(e)if(n.pushState({key:a,state:c},null,o),i)window.location.href=o;else{var s=x.indexOf(N.location.key),u=x.slice(0,s===-1?0:s+1);u.push(r.key),x=u,d({action:"PUSH",location:r})}else O(void 0===c,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=o}})},S=function(t,o){O(!("object"===(void 0===t?"undefined":Z(t))&&void 0!==t.state&&void 0!==o),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r=$(t,o,f(),N.location);p.confirmTransitionTo(r,"REPLACE",c,function(t){if(t){var o=P(r),a=r.key,c=r.state;if(e)if(n.replaceState({key:a,state:c},null,o),i)window.location.replace(o);else{var s=x.indexOf(N.location.key);s!==-1&&(x[s]=r.key),d({action:"REPLACE",location:r})}else O(void 0===c,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(o)}})},C=function(t){n.go(t)},j=function(){return C(-1)},R=function(){return C(1)},A=0,T=function(t){A+=t,1===A?(K(window,"popstate",v),o&&K(window,"hashchange",m)):0===A&&(J(window,"popstate",v),o&&J(window,"hashchange",m))},H=!1,L=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=p.setPrompt(t);return H||(T(1),H=!0),function(){return H&&(H=!1,T(-1)),n()}},M=function(t){var n=p.appendListener(t);return T(1),function(){T(-1),n()}},N={length:n.length,action:"POP",location:w,createHref:P,push:E,replace:S,go:C,goBack:j,goForward:R,block:L,listen:M};return N},ot=Object.getOwnPropertySymbols,rt=Object.prototype.hasOwnProperty,it=Object.prototype.propertyIsEnumerable,at=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var n={},e=0;e<10;e++)n["_"+String.fromCharCode(e)]=e;if("0123456789"!==Object.getOwnPropertyNames(n).map(function(t){return n[t]}).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach(function(t){o[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(t){return!1}}()?Object.assign:function(t){for(var n,o,r=e(t),i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var a in n)rt.call(n,a)&&(r[a]=n[a]);if(ot){o=ot(n);for(var c=0;c<o.length;c++)it.call(n,o[c])&&(r[o[c]]=n[o[c]])}}return r},ct=n.createClass({construct:function(t){if(!t.history)throw new TypeError("history must be required!");this.state.match=this.computeMatch(t.history.location.pathname)},getChildContext:function(){return{router:at({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},computeMatch:function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}},render:function(){var t=this.props.children;return t?n.Children.only(t):null},componentWillMount:function(){var t=this,n=this.props,e=n.history;this.unlisten=e.listen(function(){t.setState({match:t.computeMatch(e.location.pathname)})})},componentWillReceiveProps:function(t){O(this.props.history===t.history,"You cannot change <Router history>")},componentWillUnmount:function(){this.unlisten()}}),st=n.createClass({construct:function(){this.history=et(this.props)},render:function(){return n.createElement(ct,{history:this.history,children:this.props.children})}}),ut=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},lt={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+N(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:N,decodePath:U},slash:{encodePath:U,decodePath:U}},ht=function(){var t=window.location.href,n=t.indexOf("#");return n===-1?"":t.substring(n+1)},ft=function(t){return window.location.hash=t},pt=function(t){var n=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,n>=0?n:0)+"#"+t)},dt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};k(D,"Hash history needs a DOM");var n=window.history,e=Q(),o=t.getUserConfirmation,r=void 0===o?V:o,i=t.hashType,a=void 0===i?"slash":i,c=t.basename?B(U(t.basename)):"",s=lt[a],u=s.encodePath,l=s.decodePath,h=function(){var t=l(ht());return c&&(t=Y(t,c)),I(t)},f=_(),p=function(t){ut(q,t),q.length=n.length,f.notifyListeners(q.location,q.action)},d=!1,v=null,m=function(){var t=ht(),n=u(t);if(t!==n)pt(n);else{var e=h(),o=q.location;if(!d&&F(o,e))return;if(v===W(e))return;v=null,y(e)}},y=function(t){if(d)d=!1,p();else{f.confirmTransitionTo(t,"POP",r,function(n){n?p({action:"POP",location:t}):g(t)})}},g=function(t){var n=q.location,e=P.lastIndexOf(W(n));e===-1&&(e=0);var o=P.lastIndexOf(W(t));o===-1&&(o=0);var r=e-o;r&&(d=!0,j(r))},b=ht(),w=u(b);b!==w&&pt(w);var x=h(),P=[W(x)],E=function(t){return"#"+u(c+W(t))},S=function(t,n){O(void 0===n,"Hash history cannot push state; it is ignored");var e=$(t,void 0,void 0,q.location);f.confirmTransitionTo(e,"PUSH",r,function(t){if(t){var n=W(e),o=u(c+n);if(ht()!==o){v=n,ft(o);var r=P.lastIndexOf(W(q.location)),i=P.slice(0,r===-1?0:r+1);i.push(n),P=i,p({action:"PUSH",location:e})}else O(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),p()}})},C=function(t,n){O(void 0===n,"Hash history cannot replace state; it is ignored");var e=$(t,void 0,void 0,q.location);f.confirmTransitionTo(e,"REPLACE",r,function(t){if(t){var n=W(e),o=u(c+n);ht()!==o&&(v=n,pt(o));var r=P.indexOf(W(q.location));r!==-1&&(P[r]=n),p({action:"REPLACE",location:e})}})},j=function(t){O(e,"Hash history go(n) causes a full page reload in this browser"),n.go(t)},R=function(){return j(-1)},A=function(){return j(1)},T=0,H=function(t){T+=t,1===T?K(window,"hashchange",m):0===T&&J(window,"hashchange",m)},L=!1,M=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=f.setPrompt(t);return L||(H(1),L=!0),function(){return L&&(L=!1,H(-1)),n()}},N=function(t){var n=f.appendListener(t);return H(1),function(){H(-1),n()}},q={length:n.length,action:"POP",location:x,createHref:E,push:S,replace:C,go:j,goBack:R,goForward:A,block:M,listen:N};return q},vt=n.createClass({construct:function(){this.history=dt(this.props)},render:function(){return n.createElement(ct,{history:this.history,children:this.props.children})}}),mt=function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)},yt=n.createClass({handleClick:function(t){if(this.props.onClick&&this.props.onClick(t),!t.defaultPrevented&&0===t.button&&!this.props.target&&!mt(t)){t.preventDefault();var n=this.context.router,e=n.history,o=this.props,r=o.replace,i=o.to;r?e.replace(i):e.push(i)}},render:function(){var t=this,e=this.props,o=e.to,r=T(e,["replace","to"]),i=this.context.router.history.createHref("string"==typeof o?{pathname:o}:o);return n.createElement("a",at({},r,{onClick:function(n){return t.handleClick(n)},href:i}))}});yt.defaultProps={replace:!1};var gt="function"==typeof Symbol&&"symbol"===R(Symbol.iterator)?function(t){return void 0===t?"undefined":R(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":void 0===t?"undefined":R(t)},bt=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},wt=function(t,n,e){return Math.min(Math.max(t,n),e)},xt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.getUserConfirmation,e=t.initialEntries,o=void 0===e?["/"]:e,r=t.initialIndex,i=void 0===r?0:r,a=t.keyLength,c=void 0===a?6:a,s=_(),u=function(t){bt(P,t),P.length=P.entries.length,s.notifyListeners(P.location,P.action)},l=function(){return Math.random().toString(36).substr(2,c)},h=wt(i,0,o.length-1),f=o.map(function(t){return"string"==typeof t?$(t,void 0,l()):$(t,void 0,t.key||l())}),p=W,d=function(t,e){O(!("object"===(void 0===t?"undefined":gt(t))&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o=$(t,e,l(),P.location);s.confirmTransitionTo(o,"PUSH",n,function(t){if(t){var n=P.index,e=n+1,r=P.entries.slice(0);r.length>e?r.splice(e,r.length-e,o):r.push(o),u({action:"PUSH",location:o,index:e,entries:r})}})},v=function(t,e){O(!("object"===(void 0===t?"undefined":gt(t))&&void 0!==t.state&&void 0!==e),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o=$(t,e,l(),P.location);s.confirmTransitionTo(o,"REPLACE",n,function(t){t&&(P.entries[P.index]=o,u({action:"REPLACE",location:o}))})},m=function(t){var e=wt(P.index+t,0,P.entries.length-1),o=P.entries[e];s.confirmTransitionTo(o,"POP",n,function(t){t?u({action:"POP",location:o,index:e}):u()})},y=function(){return m(-1)},g=function(){return m(1)},b=function(t){var n=P.index+t;return n>=0&&n<P.entries.length},w=function(){return s.setPrompt(arguments.length>0&&void 0!==arguments[0]&&arguments[0])},x=function(t){return s.appendListener(t)},P={length:f.length,action:"POP",location:f[h],index:h,entries:f,createHref:p,push:d,replace:v,go:m,goBack:y,goForward:g,canGo:b,block:w,listen:x};return P},Ot=n.createClass({construct:function(){this.history=xt(this.props)},render:function(){return n.createElement(ct,{history:this.history,children:this.props.children})}}),Pt=Object.prototype.toString,kt=Array.isArray||function(t){return"[object Array]"===Pt.call(t)},Et=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},St=w,Ct=c,jt=s,Rt=h,At=b,Tt=RegExp("(\\\\.)|([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))","g");St.parse=Ct,St.compile=jt,St.tokensToFunction=Rt,St.tokensToRegExp=At;var Ht={},Lt=0,Mt=function(t,n){var e=""+n.end+n.strict,o=Ht[e]||(Ht[e]={});if(o[t])return o[t];var r=[],i=St(t,r,n),a={re:i,keys:r};return Lt<1e4&&(o[t]=a,Lt++),a},Ut=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof n&&(n={path:n});var e=n,o=e.path,r=void 0===o?"/":o,i=e.exact,a=void 0!==i&&i,c=e.strict,s=void 0!==c&&c,u=Mt(r,{end:a,strict:s}),l=u.re,h=u.keys,f=l.exec(t);if(!f)return null;var p=H(f),d=p[0],v=p.slice(1),m=t===d;return a&&!m?null:{path:r,url:"/"===r&&""===d?"/":d,isExact:m,params:h.reduce(function(t,n,e){return t[n.name]=v[e],t},{})}},Nt=n.createClass({construct:function(t,n){this.state.match=this.computeMatch(t,n.router)},computeMatch:function(t,n){var e=t.location,o=t.path,r=t.strict,i=t.exact,a=t.computedMatch,c=n.route;if(a)return a;var s=(e||c.location).pathname;return o?Ut(s,{path:o,strict:r,exact:i}):c.match},getChildContext:function(){return{router:at({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},componentWillMount:function(){var t=this.props,n=t.component,e=t.render,o=t.children;O(!(n&&e),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),O(!(n&&o),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),O(!(e&&o),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},componentWillReceiveProps:function(t,n){O(!(t.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),O(!(!t.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(t,n.router)})},render:function(){var t=this.state.match,e=this.props,o=e.children,r=e.component,i=e.render,a=this.context.router,c=a.history,s=a.route,u=a.staticContext,l=this.props.location||s.location,h={match:t,location:l,history:c,staticContext:u};return r?t?n.createElement(r,h,o):null:i?t?i(h):null:o?"function"==typeof o?o(h):!kt(o)||o.length?n.Children.only(o):null:null}}),Yt=function(t){var e=t.to,o=t.exact,r=t.strict,i=t.activeClassName,c=t.className,s=t.activeStyle,u=t.style,l=t.isActive,h=T(t,["to","exact","strict","activeClassName","className","activeStyle","style","isActive"]);return n.createElement(Nt,{path:a(e)?e.pathname:e,exact:o,strict:r,children:function(t){var o=t.location,r=t.match,a=!!(l?l(r,o):r);return n.createElement(yt,at({},h,{to:e,className:a?[i,c].join(" "):c,style:a?at({},u,s):u}))}})};Yt.defaultProps={activeClassName:"active"};var Bt=n.createClass({enable:function(t){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(t)},disable:function(){this.unblock&&(this.unblock(),this.unblock=null)},componentWillMount:function(){this.props.when&&this.enable(this.props.message)},componentWillReceiveProps:function(t){t.when?this.props.when&&this.props.message===t.message||this.enable(t.message):this.disable()},componentWillUnmount:function(){this.disable()},render:function(){return null}});Bt.defaultProps={when:!0};var It=n.createClass({isStatic:function(){return this.context.router&&this.context.router.staticContext},componentWillMount:function(){this.isStatic()&&this.perform()},componentDidMount:function(){this.isStatic()||this.perform()},perform:function(){var t=this.context.router.history,n=this.props,e=n.push,o=n.to;e?t.push(o):t.replace(o)},render:function(){return null}});It.displayName="Redirect",It.defaultProps={push:!1};var Wt=function(t){var n=t.pathname,e=void 0===n?"/":n,o=t.search,r=void 0===o?"":o,i=t.hash,a=void 0===i?"":i;return{pathname:e,search:"?"===r?"":r,hash:"#"===a?"":a}},qt=function(t,n){return t?A({},n,{pathname:U(t)+n.pathname}):n},$t=function(t,n){if(!t)return n;var e=U(t);return 0!==n.pathname.indexOf(e)?n:A({},n,{pathname:n.pathname.substr(e.length)})},Ft=function(t){return"string"==typeof t?I(t):Wt(t)},_t=function(t){return"string"==typeof t?t:W(t)},Dt=function(){return function(){throw Error("You cannot %{methodName} with <StaticRouter>")}},Kt=function(){},Jt=n.createClass({getChildContext:function(){return{router:{staticContext:this.props.context}}},createHref:function(t){return U(this.props.basename+_t(t))},handlePush:function(t){var n=this.props,e=n.basename,o=n.context;o.action="PUSH",o.location=qt(e,Ft(t)),o.url=_t(o.location)},handleReplace:function(t){var n=this.props,e=n.basename,o=n.context;o.action="REPLACE",o.location=qt(e,Ft(t)),o.url=_t(o.location)},handleListen:function(){return Kt},handleBlock:function(){return Kt},render:function(){var t=this.props,e=t.basename,o=t.location;return n.createElement(ct,A({},T(t,["basename","context","location"]),{history:{createHref:this.createHref,action:"POP",location:$t(e,Ft(o)),push:this.handlePush,replace:this.handleReplace,go:Dt(),goBack:Dt(),goForward:Dt(),listen:this.handleListen,block:this.handleBlock}}))}});Jt.defaultProps={basename:"",location:"/"};var Vt=n.createClass({componentWillReceiveProps:function(t){O(!(t.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),O(!(!t.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},render:function(){var t=this.context.router.route,e=this.props.children,o=this.props.location||t.location,r=void 0,a=void 0;return n.Children.forEach(e,function(e){if(n.isValidElement(e)){var c=e.props,s=c.path,u=c.exact,l=c.strict,h=c.from,f=s||h;i(r)&&(a=e,r=f?Ut(o.pathname,{path:f,exact:u,strict:l}):t.match)}}),a.props=at(a.props||{},{location:o,computedMatch:r}),r?a:null}}),zt=(Object.freeze||Object)({createBrowserHistory:et,createHashHistory:dt,createMemoryHistory:xt,createLocation:$,locationsAreEqual:F,parsePath:I,createPath:W});t.BrowserRouter=st,t.HashRouter=vt,t.Link=yt,t.MemoryRouter=Ot,t.NavLink=Yt,t.Prompt=Bt,t.Redirect=It,t.Route=Nt,t.Router=ct,t.StaticRouter=Jt,t.Switch=Vt,t.matchPath=Ut,t.History=zt});
//# sourceMappingURL=neact-router.min.js.map