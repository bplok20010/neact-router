!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("neact")):"function"==typeof define&&define.amd?define(["exports","neact"],e):e(t.NeactRouter=t.NeactRouter||{},t.Neact)}(this,function(t,e){"use strict";function r(t,e){var r,n=[],o=0,i=0,a="",s=e&&e.delimiter||"/";while(null!=(r=q.exec(t))){var l=r[0],p=r[1],h=r.index;if(a+=t.slice(i,h),i=h+l.length,p)a+=p[1];else{var f=t[i],d=r[2],m=r[3],v=r[4],y=r[5],g=r[6],x=r[7];a&&(n.push(a),a="");var b=null!=d&&null!=f&&f!==d,C="+"===g||"*"===g,E="?"===g||"*"===g,R=r[2]||s,w=v||y;n.push({name:m||o++,prefix:d||"",delimiter:R,optional:E,repeat:C,partial:b,asterisk:!!x,pattern:w?u(w):x?".*":"[^"+c(R)+"]+?"})}}return i<t.length&&(a+=t.substr(i)),a&&n.push(a),n}function n(t,e){return a(r(t,e))}function o(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function i(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function a(t){for(var e=Array(t.length),r=0;r<t.length;r++)"object"===S(t[r])&&(e[r]=RegExp("^(?:"+t[r].pattern+")$"));return function(r,n){for(var a="",c=r||{},u=n||{},s=u.pretty?o:encodeURIComponent,l=0;l<t.length;l++){var p=t[l];if("string"!=typeof p){var h,f=c[p.name];if(null==f){if(p.optional){p.partial&&(a+=p.prefix);continue}throw new TypeError('Expected "'+p.name+'" to be defined')}if(j(f)){if(!p.repeat)throw new TypeError('Expected "'+p.name+'" to not repeat, but received `'+JSON.stringify(f)+"`");if(0===f.length){if(p.optional)continue;throw new TypeError('Expected "'+p.name+'" to not be empty')}for(var d=0;d<f.length;d++){if(h=s(f[d]),!e[l].test(h))throw new TypeError('Expected all "'+p.name+'" to match "'+p.pattern+'", but received `'+JSON.stringify(h)+"`");a+=(0===d?p.prefix:p.delimiter)+h}}else{if(h=p.asterisk?i(f):s(f),!e[l].test(h))throw new TypeError('Expected "'+p.name+'" to match "'+p.pattern+'", but received "'+h+'"');a+=p.prefix+h}}else a+=p}return a}}function c(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function u(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function s(t,e){return t.keys=e,t}function l(t){return t.sensitive?"":"i"}function p(t,e){var r=t.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)e.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return s(t,e)}function h(t,e,r){for(var n=[],o=0;o<t.length;o++)n.push(m(t[o],e,r).source);return s(RegExp("(?:"+n.join("|")+")",l(r)),e)}function f(t,e,n){return d(r(t,n),e,n)}function d(t,e,r){j(e)||(r=e||r,e=[]),r=r||{};for(var n=r.strict,o=r.end!==!1,i="",a=0;a<t.length;a++){var u=t[a];if("string"==typeof u)i+=c(u);else{var p=c(u.prefix),h="(?:"+u.pattern+")";e.push(u),u.repeat&&(h+="(?:"+p+h+")*"),h=u.optional?u.partial?p+"("+h+")?":"(?:"+p+"("+h+"))?":p+"("+h+")",i+=h}}var f=c(r.delimiter||"/"),d=i.slice(-f.length)===f;return n||(i=(d?i.slice(0,-f.length):i)+"(?:"+f+"(?=$))?"),i+=o?"$":n&&d?"":"(?="+f+"|$)",s(RegExp("^"+i,l(r)),e)}function m(t,e,r){return j(e)||(r=e||r,e=[]),r=r||{},t instanceof RegExp?p(t,e):j(t)?h(t,e,r):f(t,e,r)}function v(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function y(t){return void 0===t}function g(t){return null===t}function x(t){return y(t)||g(t)}function b(t){return"object"===(void 0===t?"undefined":S(t))}function C(t){var e=void 0,r=void 0;for(e=0;e<t.length;e++)r=t[e],""===r&&e>0||"."===r?(t.splice(e,1),e-=1):".."===r&&(0===e?(t.splice(0,1),e=-1):1===e&&""===t[0]?(t.splice(e,1),e-=1):(t.splice(e-1,2),e-=2))}function E(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",n=e.split(r);return y(t)?t:(t?(t=t.split(r),"."!==t[0].charAt(0)&&""===t[0]||(t=n.concat(t)),C(t),1===t.length&&""===t[0]&&t.push(""),t=t.join(r)):t=e+t,t)}var R=function(){},w=R,j=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)},S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r},k=function(t){return Array.isArray(t)?t:Array.from(t)},A=m,N=r,P=n,M=a,T=d,q=RegExp("(\\\\.)|([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))","g");A.parse=N,A.compile=P,A.tokensToFunction=M,A.tokensToRegExp=T;var Y={},$=0,W=function(t,e){var r=""+e.end+e.strict,n=Y[r]||(Y[r]={});if(n[t])return n[t];var o=[],i=A(t,o,e),a={re:i,keys:o};return $<1e4&&(n[t]=a,$++),a},U=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&(e={path:e});var r=e,n=r.path,o=void 0===n?"/":n,i=r.exact,a=void 0!==i&&i,c=r.strict,u=void 0!==c&&c,s=W(o,{end:a,strict:u}),l=s.re,p=s.keys,h=l.exec(t);if(!h)return null;var f=k(h),d=f[0],m=f.slice(1),v=t===d;return a&&!v?null:{path:o,url:"/"===o&&""===d?"/":d,isExact:v,params:p.reduce(function(t,e,r){return t[e.name]=m[r],t},{})}},I=Object.getOwnPropertySymbols,K=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,D=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(t){n[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t){for(var e,r,n=v(t),o=1;o<arguments.length;o++){e=Object(arguments[o]);for(var i in e)K.call(e,i)&&(n[i]=e[i]);if(I){r=I(e);for(var a=0;a<r.length;a++)z.call(e,r[a])&&(n[r[a]]=e[r[a]])}}return n},J=Object.prototype.toString,L=Array.isArray||function(t){return"[object Array]"===J.call(t)},F=e.createClass({construct:function(t,e){this.normalizePath(t,e),this.state.match=this.computeMatch(t,e.router)},normalizePath:function(t,e){var r=e.router;t.path=E(t.path,r.route.match?r.route.match.url:"/")},computeMatch:function(t,e){var r=t.location,n=t.path,o=t.strict,i=t.exact,a=t.computedMatch,c=e.route;if(a)return a;var u=(r||c.location).pathname;return n?U(u,{path:n,strict:o,exact:i}):c.match},getChildContext:function(){return{router:D({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},componentWillMount:function(){var t=this.props,e=t.component,r=t.render,n=t.children;w(!(e&&r),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),w(!(e&&n),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),w(!(r&&n),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},componentWillReceiveProps:function(t,e){w(!(t.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),w(!(!t.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.normalizePath(t,e),this.setState({match:this.computeMatch(t,e.router)})},render:function(){var t=this.state.match,r=this.props,n=r.children,o=r.component,i=r.render,a=this.context.router,c=a.history,u=a.route,s=a.staticContext,l=this.props.location||u.location,p={match:t,location:l,history:c,staticContext:s};return o?t?e.createElement(o,p,n):null:i?t?i(p):null:n?"function"==typeof n?n(p):!L(n)||n.length?e.cloneElement(e.Children.only(n)):null:null}}),H=e.createClass({construct:function(t){if(!t.history)throw new TypeError("history must be required!");this.state.match=this.computeMatch(t.history.location.pathname)},getChildContext:function(){return{router:D({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},computeMatch:function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}},render:function(){var t=this.props.children;return t?e.cloneElement(e.Children.only(t)):null},componentWillMount:function(){var t=this,e=this.props,r=e.history;this.unlisten=r.listen(function(){t.setState({match:t.computeMatch(r.location.pathname)})})},componentWillReceiveProps:function(t){w(this.props.history===t.history,"You cannot change <Router history>")},componentWillUnmount:function(){this.unlisten()}}),V=function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)},_=e.createClass({handleClick:function(t){if(this.props.onClick&&this.props.onClick(t),!t.defaultPrevented&&0===t.button&&!this.props.target&&!V(t)){t.preventDefault();var e=this.context.router,r=e.history,n=e.route,o=n.match?n.match.url:"/",i=this.props,a=i.replace,c=i.to;"string"==typeof c&&(c={pathname:c}),c.pathname=E(c.pathname||"/",o),a?r.replace(c):r.push(c)}},render:function(){var t=this,r=this.props,n=r.to,o=O(r,["replace","to"]),i=this.context.router.route.match?this.context.router.route.match.url:"/";"string"==typeof n&&(n={pathname:n}),n.pathname=E(n.pathname||"/",i);var a=this.context.router.history.createHref("string"==typeof n?{pathname:n}:n);return e.createElement("a",D({},o,{onClick:function(e){return t.handleClick(e)},href:a}))}});_.defaultProps={replace:!1};var B=e.createClass({componentWillReceiveProps:function(t){w(!(t.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),w(!(!t.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},render:function(){var t=this.context.router.route,r=this.props.children,n=this.props.location||t.location,o=t.match?t.match.url:"/",i=void 0,a=void 0;return e.Children.forEach(r,function(r){if(e.isValidElement(r)){var c=r.props,u=c.path,s=c.exact,l=c.strict,p=c.from,h=u||p;x(i)&&(a=r,i=h?U(n.pathname,{path:E(h,o),exact:s,strict:l}):t.match)}}),a.props=D(a.props||(a.props={}),{location:n,computedMatch:i}),i?a:null}}),G=function(t){var r=t.to,n=t.exact,o=t.strict,i=t.activeClassName,a=t.className,c=t.activeStyle,u=t.style,s=t.isActive,l=O(t,["to","exact","strict","activeClassName","className","activeStyle","style","isActive"]);return e.createElement(F,{path:b(r)?r.pathname:r,exact:n,strict:o,children:function(t){var n=t.location,o=t.match,p=!!(s?s(o,n):o);return e.createElement(_,D({},l,{to:r,className:p?[i,a].join(" "):a,style:p?D({},u,c):u}))}})};G.defaultProps={activeClassName:"active"};var Q=e.createClass({isStatic:function(){return this.context.router&&this.context.router.staticContext},componentWillMount:function(){this.isStatic()&&this.perform()},componentDidMount:function(){this.isStatic()||this.perform()},perform:function(){var t=this.context.router.history,e=this.props,r=e.push,n=e.to;r?t.push(n):t.replace(n)},render:function(){return null}});Q.displayName="Redirect",Q.defaultProps={push:!1},t.Route=F,t.Router=H,t.Link=_,t.Switch=B,t.NavLink=G,t.Redirect=Q});
//# sourceMappingURL=neact-router.min.js.map